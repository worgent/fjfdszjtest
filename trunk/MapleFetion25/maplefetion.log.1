2010-11-21 11:22:02,204 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:22:02,208 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:22:02,214 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:22:02,238 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:22:02,242 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:22:02,244 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:22:03,496 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:22:03,496 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:22:04,306 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:22:04,306 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:22:04,311 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAADPuIwqFLHkZClSDBeqNlDSpw5x71gupVVvlOVGvz+zdcJPY9nJyAtlo2yF0Y7EnGGsBYwbZ0BF1nq3QEcfXRP9TlOyspCIX4lfJlDL+Y+WneHhKaudQqhkEurt6DHUmp4AAA==
2010-11-21 11:22:04,312 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:22:04,312 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:22:04,435 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:22:04,452 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:22:04,516 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:22:04,533 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:22:04,536 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=51857]
2010-11-21 11:22:04,537 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:51857
2010-11-21 11:22:04,636 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1B0762D1195C0ACB53F2067752E842C4",key="B66BD90C4E4CE83B89D2A93E0198EE85DD75D9B4C83E2815FCB553F1463E8092157BE1286D4493D8D2F44F7183BE19891593DEA9EBC42852248AC25F27C3282C684FD797D194F85225624C2665C269E82B2A4026C828176EC595C2936559FD4A69023920A8A4A98AA893A087222B92DB1840216F8408238AE690E2C3FAACC3EB010001",signature="5AC6CDF4CFCB14DCE047C597B95E63C3CC0D5FE67A407D58305CE80AB188699985313ABE4F327D0F925DED3344E160062D3D7ABB6CEE59EE263800FC226EB64A7DAC88A472316C9F875B142E48F0D69293E53AB7925B3544EF6800C12A1948852B3B78A8C0EF22B5DAFA1676D9460E977794B9F03057B03ABC21FCE1AE383BB3"
2010-11-21 11:23:12,756 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:23:12,758 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:23:12,760 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:23:12,760 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 11:23:12,801 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 11:23:12,831 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:23:12,858 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=51857]
2010-11-21 11:23:12,858 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51857]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:23:12,861 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 11:23:12,861 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 11:23:12,861 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:23:12,865 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:23:12,867 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:23:12,867 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:24:53,195 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:24:53,199 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:24:53,298 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:24:53,366 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:24:53,380 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:24:53,395 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:24:54,072 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:24:54,072 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:24:54,691 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:24:54,691 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:24:54,729 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACjGTjHzc4VYPWB8wr7zII8TN67jKCxdpcMoz88higRpk/8ylUHcKn7D2oSeKGFVyMBxzFMPjRsSNAK2nx9muU04nCQ8VaRDikGofyQTPlsslJ3XRK/6cN7TzYI/lcOOXUAAA==
2010-11-21 11:24:54,729 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:24:54,729 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:24:54,923 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:24:54,940 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:24:55,003 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:24:55,018 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:24:55,035 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=51865]
2010-11-21 11:24:55,035 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:51865
2010-11-21 11:24:55,160 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="133008BF73566E033BEAA2BD4D1472FA",key="C9FF08D91655796DEB4C0EFB5E6503189B5B3E8F7170AF929CFD229481F397268383FCCFAD55AAACF58844DF7B6D6C48E208727E641A62328DA669978668F8247DDF5A8783C3A6F93902C604FBE6E37222F65EC28C18AB31FF05867EB622A7B7912ADE99FEB4641666623398454B7BF6411BD0A271E1CF75F1DCC7BFEA55D5CF010001",signature="5AFE03FD60EDC369EB623A7B6AF6DD7D80FD957D0542A72A9AFBE0327652118572507BFB205270F9991EC53353C79D30DE845EF25E48F484CEFC191ACEA1355387040BA3D982BACE3D2BB4672659A7E1CE3DEAE2B4E133BB1F4C2F4A7F99A77B34DC137B00B1927F1761C98ACA8BA28009E15A983F742FED5DD2B43A1A6291C3"
2010-11-21 11:25:29,610 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:25:29,612 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 11:25:29,618 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:25:29,682 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:25:29,682 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 11:25:29,677 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:25:29,811 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=51865]
2010-11-21 11:25:29,811 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51865]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:25:29,812 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 11:25:29,813 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 11:25:29,813 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:25:29,815 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:25:29,815 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:25:29,815 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:30:20,078 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:30:20,083 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:30:20,090 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:30:20,133 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:30:20,135 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:30:20,139 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:30:20,794 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:30:25,051 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:30:27,706 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:30:27,707 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:30:27,727 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAACDX3FVV7BcDdSs9K96nIuD0CjXmboiy1G6zhtHhOsy8HlotUhkhsLt1lwfWfxB4I3R29/vTn9A0IpR7j8xnEiu0ajgBV+aYyUeWk9Tl1xC41WJEYLQJCoP3nHl4yfZloAAA==
2010-11-21 11:31:03,511 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:31:03,512 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:31:03,542 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:31:03,548 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:31:03,679 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:31:03,680 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:31:03,682 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=51887]
2010-11-21 11:31:03,683 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:51887
2010-11-21 11:31:03,823 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="65BBD10C1308F9F41C2505211FD697EC",key="B9A40E461468DE22B270A54BD5D31A8A8A08F095DBA2003214323EE6A1774BFCD5B0343570D01FB9535315C5EACE6A2BC82599B2BA4292838B128ADB792DDA31C41C2CB80845CD1CF9B5286E75996FAF40E3CCBACB9084BDBD1E64D746FEB70D9AC58A26234D1B1FAC49B1C6A1B6EEB4C61D73C525AC402B265B3B3590DFB3C1010001",signature="AEF27E227E3751D47599E952C97F4B774FDDAAB485EB2B5121B38BD1129C4A379882DC5EC3DC7D307EF072FCB921CB62515C246AE7CB3ACAEB6F9A28F9D3491D1463639F8DADE06A66F93FE2DDB660E7E65B7AF7FFBC0ED8E6606EE9A4D89E49FBFFCFD8DEA7A05441849D5A5A97A0922D3CAE7CB8633D916D4162562C36B377"
2010-11-21 11:31:27,853 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:31:27,854 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 11:31:27,857 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:31:27,860 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:31:27,860 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 11:31:27,869 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:31:27,929 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=51887]
2010-11-21 11:31:27,929 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51887]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:31:27,931 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 11:31:27,933 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 11:31:27,933 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:31:27,934 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:31:27,934 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:31:27,934 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:35:48,918 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:35:48,921 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:35:48,927 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:35:48,934 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:35:48,936 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:35:48,937 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:35:49,559 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:35:49,559 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:35:50,190 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:35:50,190 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:35:50,194 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABbYduglcA415DliEmH/ApEXKHUrO79ur3eTFqz9DG/nGZeuBd11SYh64eBwj2Z42TRmsexx6TbKSANh9/Yv2n/vTa22mFjUBFQo6j7f2/GlLa8O+Fzvr70+CIoHwK0h2sAAA==
2010-11-21 11:35:50,194 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:35:50,194 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:35:50,219 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:35:50,224 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:35:50,291 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:35:50,293 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:35:50,294 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=51897]
2010-11-21 11:35:50,294 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:51897
2010-11-21 11:35:50,374 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="6E3CAE6634BCFBB84B427B2E79D25A44",key="9D372612DF41E624EEE04C5EC7F03C21E96EF6FBF903646BCD5115F2C1F7A8A8696A16845A636FC1CCD3F6269738C5CF1D167310AAC1D49644513ED109B674D029D636BFF65DDF4B5A6A7777962676521E3A23CD51660FEBCB080B763EE6887258A81BBCBE04F0F2C43B562BA4DF3452D150BE2771F99A9FA830FECD4C46A2DF010001",signature="A2BDB5F25713204F89F7A6DCC209EF506BCD42AEDFC5668ACF66062ACCD0481B1D31A54A8686A8AE5831E7F1D0AB0A9206DF750C0EBC4CFE639F6D6D928B09FE578E3D6FC8F2DE6CA8D58FA25897AE7474BBB375E56AE76AE1896CCEB2759CA4CDF960FDE285082B11181C2046A7856EFB6465AB17CB809157D5013522D7E24A"
2010-11-21 11:36:16,312 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:36:16,316 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 11:36:16,324 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:36:16,351 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:36:16,351 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 11:36:16,357 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:36:16,415 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=51897]
2010-11-21 11:36:16,418 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51897]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:36:16,418 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 11:36:16,419 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 11:36:16,419 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:36:16,420 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:36:16,421 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:36:16,421 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:36:24,655 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:36:24,660 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:36:24,666 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:36:24,682 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:36:24,691 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:36:24,693 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:36:25,329 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:36:28,658 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:36:29,948 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:36:29,948 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:36:29,958 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAAPD6ELlIdzpjbtL5varljadNd69r32MwQAh1dqPDTNZdnJVG5rOJyTtKpbadekey/EzZos+bLxW3pX72EjVkOWJLQ8s4gZmOEhTugNJOISCTkOkkCC5lpJ5+rES3rXmjkAAA==
2010-11-21 11:36:54,609 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:37:20,579 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:37:27,931 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:37:27,940 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:37:28,002 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:37:28,004 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:37:28,008 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=51906]
2010-11-21 11:37:28,009 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:51906
2010-11-21 11:37:31,999 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="64BB85B11C30A8751B6DFFBF1605C2EB",key="C90272E99E446549BE30D6B9DE8644E5E893117645EB6536D1DA2B3C41CF517820FF40FD0953215C02CF1D310AF1E18F673805DA5B4F50EE13834C72981796B61FDF4A6D2D4063786CAD865F379C7EEC9F43A29C888685BE8F89ED99B303E631440D89A6BB1B80A51156AC53790F2B9BC2A45ABF38A7D0F2ED9B970806023393010001",signature="8E568D722884F73F26EA705603B7254EF962C25A44C190BBE887EFC2205B684A8BE7C3B2D7D78880F091AEFA1E194D89864DF99EC220C879B15BF881F608A89E230244DA964136C8191606F152773B5D1837FB0550BAF5CFC9530F272C1089EF0E8D9C3DEB0F59F00904C16D76C519A1303919EAA122D53BD24A10EF51DCA211"
2010-11-21 11:37:56,495 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:37:56,497 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 11:37:56,519 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:41:06,683 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:41:08,492 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:41:26,851 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 11:41:30,371 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=51906]
2010-11-21 11:41:30,372 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=51906]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:41:32,003 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:OTHER_ERROR, canceledLogin=false
net.solosky.maplefetion.client.dialog.IllegalResponseException: Unexpected response event - current = TransferErrorEvent [EventType=TRANSFER_ERROR], expected = SUCCESS
	at net.solosky.maplefetion.client.dialog.Dialog.assertActionEvent(Dialog.java:182)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 11:41:46,847 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=OTHER_ERROR
2010-11-21 11:41:46,848 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:41:46,850 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:41:46,851 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:41:46,851 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:47:35,024 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:47:35,027 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:47:35,033 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:47:35,040 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:47:35,041 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:47:35,042 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:47:35,666 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:47:35,667 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:47:36,268 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:47:36,268 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:47:36,271 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACFft5pjDhDP7GPawN+DQZK6EIkBBRWvdIWJAyvUr0KQo7kI5C9cwWM/TTHspLGpAgyhYsnIV+R+kORGrSTM7B/ZotD3t0L5MSKQ/CkW2lvmOw0EtIZi81Ozi+MPlL7fwEAAA==
2010-11-21 11:47:36,272 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:47:36,272 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:47:36,293 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:47:36,301 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:47:36,361 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:47:36,363 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:47:36,365 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52012]
2010-11-21 11:47:36,365 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52012
2010-11-21 11:47:36,438 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="556FF8C16F4733CA34DAC1DF1AC8920E",key="D59FE68FCC247F187C3F5E2D3DBA7788ACA23A82840EBC62A7A44C7CB4C05E9D39B35D6C6FA9B65092F000585838CE28BC851410AD59F80EECFB2128FB4918A8FF7B477B12CD8F37AE6B0733D060DD11A8E81F73A69BE33D1C8A2D051FB61B06D32CDBC53AEFFA92150BD83349F0E56FCF4FE85D1613651EEA98A7920B58E175010001",signature="25D06FA0C9095DB48C2AED049E0F9E9CF11C9305A14BCEF84201EF76DD5FD1106F2255B1B7B8F12A9690BB88D7B693B0AEB03A2C044F420F32E076940C0918B7AE714FE6BA56405AD1569F1ED752262352C669E51CEBDD312DCC97385D2DA4145DC52BB87AB7358A8AFA97A59AEC355EB982866F51F8984377E73873B2A3C381"
2010-11-21 11:47:36,645 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:47:36,646 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:47:36,647 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:47:36,647 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:47:36,648 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:47:36,648 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52012]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52012]
2010-11-21 11:48:56,800 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:48:56,803 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:48:56,809 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:48:56,816 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:48:56,817 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:48:56,819 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:48:57,443 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:48:57,443 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:48:58,073 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:48:58,074 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:48:58,080 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABqPD9nIttE797rZKoFe0utlZT75kqMrDB7xE+12YhYp0/vhtExEiwVtp3hv1aBlUBvmBZbqc/IE75gz5hP98ooLpLcJN1vMGp/ST1vNQztnlznAYVL2hSuAHg6p23sQrkAAA==
2010-11-21 11:48:58,081 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:48:58,081 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:48:58,105 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:48:58,113 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:48:58,178 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:48:58,181 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:48:58,195 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52030]
2010-11-21 11:48:58,196 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52030
2010-11-21 11:48:58,256 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="13795C7F5CE151E647D1B9E735FBAF3C",key="DD446FF771752D8AAB27AC6A5CDDE42AB517E963C96B3E0CB47AB558F45E5A6916DBF6219993D49B6C88F448B3864840D7D7418EDC1EA0C297A2460D865D0CDF69F79F1D9D5A0FD548CA28BA92CF7694BA4F960ECE77F2F42A81B2D2080907525E425B86F34A4C58E4DE2F52C623506663F1C3B99C8AA1169AA03ECE40A1C7A7010001",signature="C807D8C47BDADC8F37EF5EB05B64343EEAE89913BAEC038A5A007FA9A768D3F9D9D7D3F8F1B7C8DAEFC108FE9A65A7F198D49FD36227E2243C07FE0E34C29C278F4C0D2BD99FB6978A763A35C12B76A5DAAF0FC8E78F74872BAC6DA8CDDDDA704FAE5013DB9BC6D65FDA6F0645E5F4CF17B1E5DE203CDDDF153C91ED1EB3209C"
2010-11-21 11:48:58,460 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:48:58,461 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:48:58,462 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:48:58,462 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:48:58,463 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:48:58,463 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52030]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52030]
2010-11-21 11:49:55,838 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:49:55,842 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:49:55,848 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:49:55,856 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:49:55,857 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:49:55,859 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:49:56,490 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:49:56,491 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:49:57,128 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:49:57,129 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:49:57,135 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABVJYoTpG+4ayJhy34p5vF3eMxDIolxRPtMJNb7c+y2kJ3Z+jGXidYP2q6DW9IUGtBBstIIyBefagg5ZZ0e2bRpVYvMDw2ERJQHjVMEZnHfqqSZHRYAXhgqbmPv16ni2n0AAA==
2010-11-21 11:49:57,136 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:49:57,136 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:49:57,182 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:49:57,196 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:49:57,257 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:49:57,259 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:49:57,275 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52041]
2010-11-21 11:49:57,276 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52041
2010-11-21 11:49:57,335 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="51D6759371181C391A5BF95F6BAC0327",key="BFFE5FA6ECA850FE3B113F65A84EBEF27D40C8D89809D7C7CF616AA006A1D39056DC09DABE520E3810381DCADB9AC1F8C083183ED8E9D9A234B6D34A02BF41CFE12B6F3AEC7BA55C76B6B3AA7EA08CB11D35ECDA035253F205FE02DE78C6586C248DA1516C9F4E36943C3F23C9E7A8C9CECB90CC9CBE9188CB1D8241EBEF24D3010001",signature="90042B35F9BBC89BC198BF7BD5060C020845697DAFBA40689D13D494D6BBA14958E381892E5871C155C867488963BF9C7EB1E57A2238E738B7A148958EA3741BE4BA74BDC8CEEE49895C9CD2296FAA953110655B8CA6CB33B0B4FD50BF6A695B78B119A138674D6B0AA64A7F317A1A2CEF74BCD087218ED9BB19595C62F6FB77"
2010-11-21 11:49:57,593 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:49:57,593 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:49:57,596 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 11:49:57,605 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:49:57,622 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Recived a system message:<msg id="2516" type="1" show-once="1">
<validity begin="11/21/2010 12:30:00 AM" end="11/21/2010 2:00:00 PM"/>
<content type="text/plain"></content>
<url style="auto:0;">http://huodong.feixin.10086.cn/fetionplanner/index.aspx?utm_source=huodong&amp;utm_medium=qw2&amp;utm_campaign=xtxx&amp;c=[c:m161.com.cn]</url>
</msg>
2010-11-21 11:49:57,623 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:SystemMessageEvent [systemMessage=<msg id="2516" type="1" show-once="1">
<validity begin="11/21/2010 12:30:00 AM" end="11/21/2010 2:00:00 PM"/>
<content type="text/plain"></content>
<url style="auto:0;">http://huodong.feixin.10086.cn/fetionplanner/index.aspx?utm_source=huodong&amp;utm_medium=qw2&amp;utm_campaign=xtxx&amp;c=[c:m161.com.cn]</url>
</msg>, EventType=SYSTEM_MESSAGE]
2010-11-21 11:49:57,659 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:49:57,660 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 11:49:57,660 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 11:49:57,660 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 11:49:57,727 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 11:49:57,748 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 11:49:57,761 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 11:49:57,763 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 11:49:57,815 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 11:49:57,838 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.27:8080....
2010-11-21 11:49:57,913 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.27:8080.
2010-11-21 11:49:57,916 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:49:57,918 [TCPTransfer-Socket[addr=/115.181.16.27,port=8080,localport=52042]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.27,port=8080,localport=52042]
2010-11-21 11:49:57,918 [TCPTransfer-Socket[addr=/115.181.16.27,port=8080,localport=52042]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52042
2010-11-21 11:49:58,597 [TCPTransfer-Socket[addr=/115.181.16.27,port=8080,localport=52042]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 11:49:58,603 [TCPTransfer-Socket[addr=/115.181.16.27,port=8080,localport=52042]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 11:49:58,603 [TCPTransfer-Socket[addr=/115.181.16.27,port=8080,localport=52042]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 11:49:58,608 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 11:49:58,758 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:49:58,758 [TCPTransfer-Socket[addr=/115.181.16.27,port=8080,localport=52042]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.27,port=8080,localport=52042]
2010-11-21 11:49:58,759 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:49:58,759 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:49:58,760 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52041]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52041]
2010-11-21 11:49:58,760 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:49:58,761 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:49:58,761 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:52:08,771 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:52:08,774 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:52:08,780 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:52:08,788 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:52:08,791 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:52:08,792 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:52:09,410 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:52:09,410 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:52:10,008 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:52:10,008 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:52:10,012 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACkBT7BqAA3+8gonjmddCtL3CqK0bKGbIHeADc2hwYIHqcYDOQbh2RuhBgwFG7nTvrArgTAJakyTft2tEK/0grYHn0YjHtWBM5RqJXrl0E00jDVYhLwl58iejOUgu6yfRkAAA==
2010-11-21 11:52:10,012 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:52:10,012 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:52:10,034 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:52:10,042 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:52:10,107 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:52:10,109 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:52:10,111 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52049]
2010-11-21 11:52:10,111 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52049
2010-11-21 11:52:10,198 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="75D795091D30612A1078A399286B6AB9",key="D46FC9B062B89008334ADD98454E06341C9D0810B54D2B20729BF5B0073D65E3F64A99A22373A7E410992D0F4D827BD880EA0C69338D0E4F396A8708604658A3C1506C9BBB7376FBB300C3F4FC1C556568B930640BB1A84AD6D9CE082711BFE1685358D1DD7776CCEE93FBE1B297D3F5E9CDDC94D2667487389E59431E3D6601010001",signature="D0916F3C45F3426A58A69B7DE91191D518964BEF2437C30A170EBAC396C95ACAA444226B07BDB03FA71879EFFE045B878BEBCBD8C816EA47AE888D584F684A746210FC4C09AD3E642110AECD08C56BEDA5A724490C3A9BD93443404BB301413D4C94737C7FF16BB2DD79AB2AC34B1B818564573857AFE5ADF14B4284BCF1CFB9"
2010-11-21 11:52:10,331 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:52:10,331 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:52:10,334 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 11:52:10,346 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:52:10,389 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:52:10,389 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 11:52:10,390 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 11:52:10,390 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 11:52:10,402 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 11:52:10,462 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 11:52:10,462 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 11:52:10,465 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 11:52:10,577 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 11:52:10,577 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 11:52:10,615 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:52:10,615 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52049]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52049]
2010-11-21 11:52:10,616 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:52:10,617 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:52:10,617 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:52:10,617 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:52:56,637 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:52:56,641 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:52:56,647 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:52:56,654 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:52:56,655 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:52:56,657 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:52:57,278 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:52:57,278 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:52:58,006 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:52:58,006 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:52:58,009 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAA6WEyAbh4ZBSPgE+OIok9uMKCHb9p5z2QFDLkA8HpRTOIDlCUCyK3lpxGNF2AE3uTqqOPwPEQCT80djZl+SV9b+kbRhH/BXnTT4R0KqoYByNnK29+AR4rgmy4w14o3eawAAA==
2010-11-21 11:52:58,010 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:52:58,010 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:52:58,032 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:52:58,040 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:52:58,099 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:52:58,101 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:52:58,103 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52056]
2010-11-21 11:52:58,103 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52056
2010-11-21 11:52:58,177 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1206F4B14BD17127541DB5D148EFBB4E",key="E615A744F3203181BDB54D28FDFCDA3BF295502D2A595104BB03008DFF54280EA3FDF989F893CAE4C2EAB854D2998DDB26DDC1951B36D88A9F1C2B401A7726DB6B20A7B41B618E32875AA591E1DF7A104F7019E4CA9A5FC185404112636F301CA6EB5512DC476E3E266C0709AE0D038246A6643816D8AC0905D1180ABB476CFF010001",signature="DB088DB9EF64F2C3CAFED7001B70BFFE94E24072CB726CAE4FFB4F7ED007147A21E67DDADD9BA822A1D7FE0C643BDFB0ABF602E5EBC3D6B4BF966CE8976A59E2C6DF858F435312A13A093053386F9FAE019E369BDEDA5E3CDB67BEB2A0BC27B100E7F96FC01E6BE79E89116B4DC7A94FB67DE702CC63F50A5D1D569EEEA162B0"
2010-11-21 11:52:58,290 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:52:58,292 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 11:52:58,294 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:52:58,305 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:52:58,355 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:52:58,355 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 11:52:58,357 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 11:52:58,358 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 11:52:58,361 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:52:58,361 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:52:58,362 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52056]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52056]
2010-11-21 11:52:58,363 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:52:58,363 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:52:58,364 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:54:30,309 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:54:30,312 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:54:30,318 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:54:30,326 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:54:30,327 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:54:30,328 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:54:31,761 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:54:31,761 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:54:32,564 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:54:32,565 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:54:32,571 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACiZTbEQKfzfQT4sb4PpihhqvqyuQJuDKUINMhhoVYzF9HbLl9Q9EATbMOLr3fOLNk3/8441/JE7PuBbWeXl2ie1GuzAKvTmsqSSIQnqJWg7Jf1KoyWk0KVunflR3fuKrEAAA==
2010-11-21 11:54:32,572 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:54:32,572 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:54:32,604 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:54:32,613 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:54:32,673 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:54:32,675 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:54:32,676 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52059]
2010-11-21 11:54:32,676 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52059
2010-11-21 11:54:32,829 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="113A918B78AEB2E479C19B617EB529B9",key="E68CBE99F4126B9DC44E034FB33289F57EDDA97F8057E6C9F5E6032B519F328A9E40BE2B9ADAFFA6D1146E5C9967F4BB65EF3D02D6A420DDBDA17786DD7231D15B4C1E08642B11997A9A3EFB41356ED6BF0333FE2215675DD614F34DE8593AAF16C6A4FD309F94E1ADC7788A516C5706A686EA0A5274B3820B34D3C444752DBD010001",signature="2499B08FE8B7CBFC0D035D91BED81DEAFC5CFC966F4694D379AA96F46A04DD0C623B9652C5DB74A7AAEAE48C13455F0E1CF83793316AA63B9A97F84EFA8DA2488887378EE539F38B02ECF43F2BE87C7D1CEF82218CC303C70B9B76B7FEA4C75A1A3640E9DCF23BF9197F6EE5367508F6AF6D1A664234C566FB9105C9ACB41FD5"
2010-11-21 11:54:33,002 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:54:33,002 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:54:33,005 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 11:54:33,016 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:54:33,063 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:54:33,063 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 11:54:33,064 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 11:54:33,064 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 11:54:33,072 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 11:54:33,072 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 11:54:33,180 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:54:33,181 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:54:33,181 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52059]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52059]
2010-11-21 11:54:33,182 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:54:33,182 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:54:33,182 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:57:56,963 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:57:56,967 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:57:56,973 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:57:56,981 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:57:56,982 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:57:56,983 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:57:57,678 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:57:57,678 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:57:58,403 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:57:58,403 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:57:58,407 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAAnG1kQxwU1eaIrGMffJ68rdthN/2Gg07pWDuthuyDhrqMN9opW2ChFV4WW3sPKRvSaLFJ+LAxYwuaRxVTOxX9dDmMyKdBbLOE7CdRY9KgT5VxIxr1jog+8XPOJ9NL9kMcAAA==
2010-11-21 11:57:58,407 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:57:58,407 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:57:58,430 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:57:58,438 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:57:58,500 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:57:58,502 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:57:58,503 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52078]
2010-11-21 11:57:58,505 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52078
2010-11-21 11:57:58,577 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="5BA2DF6860658F6562F99C5D3BFC4763",key="B47C8CD79C7AC16303AA8AFB10B939102315AC07B640B423CA61A250A9C2AC241ED7A9DE347165D1013CF1952E516D11E1F381FD3F1195AB4A1613AC3F5FC26C717934CA74E32520B1AB578EE8C199E08F6812F14A1B62A1EA3330CC310C0B9A1902DAD16EEC694ABAFEA3A868209CE2C01968AA2EFC0559776BFE261C9E9843010001",signature="449B7618A8755729EA4811F156C1B564AD69C4C758485DCE48663C6D567CFDD891108F2ADA4025DA313FF7EB302EA3C96C018325B9ED4DB3C90860E4D8E0A2737A80748927073362E90472C01AF9D1DD7011731ACF03AB027404EA1A22263BFBCCE0C9604E73A0AABFEDA6DA80A3C4E6D9BA57018AF611D23FA0C28AEFDDB872"
2010-11-21 11:57:58,707 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:57:58,707 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:57:58,709 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 11:57:58,722 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:57:58,817 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:57:58,817 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 11:57:58,817 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 11:57:58,817 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 11:57:58,823 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:57:58,824 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52078]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52078]
2010-11-21 11:57:58,825 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:57:58,826 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:57:58,826 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:57:58,827 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 11:58:16,338 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 11:58:16,341 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 11:58:16,349 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 11:58:16,356 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 11:58:16,357 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 11:58:16,358 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 11:58:16,991 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 11:58:16,991 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 11:58:17,626 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 11:58:17,626 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 11:58:17,630 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACcjXIdAnbDB+o+N+8vNaE7r2rVX99qvS+xeozM7cAgyk8C5XcuUGXZAd9nj/tEAxMJTYGA3NFVi/pVaKJkAZFWH+CJEstVOH4a1CsLHcPX85WGyI+iBpJu1WriIg1R6oAAAA==
2010-11-21 11:58:17,630 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 11:58:17,630 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 11:58:17,651 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 11:58:17,661 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 11:58:17,721 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 11:58:17,723 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 11:58:17,724 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52081]
2010-11-21 11:58:17,725 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52081
2010-11-21 11:58:17,798 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="3E2777851F1B822A68F5A2D1505C9D3E",key="B8A176D3B72910B5FEC9740DCCA4D7301B64C2CFC7DA6DB49D62D8C0E5BE35B53E4D644ADD3949D484308CD0AA246C0F8A30078FD7DBCE22F87FF12DC39A1CFB8CDA9AC0FEA40A486FB0A165C6BE2481D7CB4DDD5056A98ED3DAD984EB0A3E0858E36CF79954B8C0CBA8EDF6E2F900F3ED2F4BABFE3FDD05BD8278C7583B4AC3010001",signature="5D89E5C9EA7FC97DEB23365FA007925A124100A1030B877D4286C3089E8F263C3857A7E85728D58B66B0AF22F2650B75F9DC51CEBD695922E984DEF0DB8C6BE04F110E7DF01E12410AE68F030EE2535CB9EEF0DF195E5215BED65F1E99AEFD7F331CB6101B2A7F465693A11EA26217ED5E1B326A32A9714A49D0BDDDA127F873"
2010-11-21 11:58:17,910 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 11:58:17,910 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 11:58:17,914 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 11:58:17,927 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 11:58:17,977 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 11:58:17,977 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 11:58:17,978 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 11:58:17,978 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 11:58:18,050 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 11:58:18,050 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 11:58:18,054 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 11:58:18,057 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 11:58:18,202 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:58:18,203 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:58:18,203 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52081]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52081]
2010-11-21 11:58:18,204 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 11:58:18,204 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 11:58:18,204 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:06:59,369 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:06:59,373 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:06:59,379 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:06:59,386 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:06:59,387 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:06:59,388 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:07:00,663 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:07:00,664 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:07:01,474 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:07:01,474 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:07:01,478 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAD94OTNVXspYKAcr2EPkaipmuXNsWRHeepKUT3oYzMF656B6dr+I1LidTHU2L8uQmciN36Zvm4QOivaN/oJkOq/w2GRXWFK6LONZMIfh0m8uyOK/3upWdTtilkRjuhDMcQAAA==
2010-11-21 12:07:01,478 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:07:01,478 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:07:01,500 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:07:01,508 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:07:01,572 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:07:01,575 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:07:01,577 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52094]
2010-11-21 12:07:01,577 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52094
2010-11-21 12:07:01,740 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="47F2988464D906A453BE196056D1F051",key="AE036B400950A9BBAACA166C31B99BE2A16B1500C8BC7C5F96AEF1E0B720946BECBC042259F29CBE59ABD17BD42F8377D15A28F57384294787EE8649470FF068BE678AE98097BFB1CF5458ADD73EBA9184C51E0A0B9AC011A1EA2768B2BEDCABF21C076FA9E777035E4ACAF9A5656DA0C8EB4679857DA7233218A5830A0712C3010001",signature="DF27C7C4C6A6192862FC8F35C75D33EBCA08027197DD4E8CD8648AC6C785AD006971DBED6AAA206C0202F5FAC790E7C513BF076CAF74BDBD703F1046D94D2DB784C1CDACA62B6E930A55869BE86B7965D4525ED87B69EB6C9B27AE75BA70DAFA3D914CDDFCD6820ACF70A55125C34AA0058BCC9097EE7AC03E0AC4FEDB7396F5"
2010-11-21 12:07:01,937 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:07:01,937 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:07:01,943 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:07:01,965 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:07:02,088 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:07:02,088 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:07:02,088 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:07:02,088 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:07:06,325 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 12:07:06,325 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 12:07:06,416 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:07:06,533 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:07:06,534 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:07:06,598 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.49:8080....
2010-11-21 12:07:06,657 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.49:8080.
2010-11-21 12:07:06,659 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:07:06,660 [TCPTransfer-Socket[addr=/115.181.16.49,port=8080,localport=52095]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.49,port=8080,localport=52095]
2010-11-21 12:07:06,661 [TCPTransfer-Socket[addr=/115.181.16.49,port=8080,localport=52095]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52095
2010-11-21 12:07:06,901 [TCPTransfer-Socket[addr=/115.181.16.49,port=8080,localport=52095]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:07:06,904 [TCPTransfer-Socket[addr=/115.181.16.49,port=8080,localport=52095]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:07:06,905 [TCPTransfer-Socket[addr=/115.181.16.49,port=8080,localport=52095]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:07:06,908 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:08:02,668 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:08:02,671 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:08:02,677 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:08:02,683 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:08:02,684 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:08:02,686 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:08:03,943 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:08:03,943 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:08:04,636 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:08:04,636 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:08:04,640 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABJQgP3f2iJ/Z3wpxVvLcuSXCuOJfAtRiqiFE/J/KjAPytiDQauF/CgPM0bcoHrgHCOwXF3Vz/Aiq3IIs+Kr8v2pjov7BF9lkh656faHU18Jfyz0eNSDqHT3/Z0pUMsihoAAA==
2010-11-21 12:08:04,640 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:08:04,640 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:08:04,662 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:08:04,669 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:08:04,743 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:08:04,744 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:08:04,754 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52101]
2010-11-21 12:08:04,754 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52101
2010-11-21 12:08:04,866 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="5F4B3AAC1206F7FC6303B65C670347A2",key="9F508AAF95D72A0A859ADA51FA7B747E21FC8CF0A2DC7693CE7264E62F444BE95BAE135475734266258FAC758B79E17B0F05A82F2871D10BFE27F20E5FBFD13CE6197CFEE346AF057BB676D9CBFB2AC922C7D57EB71D235610761D1BDB5693D1162C086F9B741251FAAF3D9CE0F754141697CBBC8B1144F2B174E38F3C9658CD010001",signature="CC38864E69C842F8D2DC427C94DC6307814EF6DDAB7F4FCFDA9D9E741F91BC3278AF4BDE5ADE5FD5C1901179BA51A479FC9C4B405789B2FBC6C73F31FC1F0D4F3B47A4E0B3F9515634DB7BE5BDF2B07683BB36BC9C329E684D638EC7244DA65C6EFA7709D80C5B7A17D069B87AFDDB79913E8185D09AB8ACF320DC91F65FF3CC"
2010-11-21 12:08:05,004 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.FetionClient] [FATAL] - You have logined by other client.
2010-11-21 12:08:05,005 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:05,006 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:05,007 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:05,008 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:05,008 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:08:05,008 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:08:05,009 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52094]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52094]
2010-11-21 12:08:05,011 [TCPTransfer-Socket[addr=/115.181.16.49,port=8080,localport=52095]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.49,port=8080,localport=52095]
2010-11-21 12:08:05,141 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:08:05,142 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:08:05,161 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:08:05,190 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:08:05,208 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:08:05,209 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:08:05,209 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:08:05,209 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:08:05,290 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:08:05,325 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:08:05,325 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:08:05,349 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:08:05,447 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 12:08:05,447 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 12:08:56,256 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:08:56,259 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:08:56,265 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:08:56,272 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:08:56,274 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:08:56,275 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:08:56,900 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:08:56,900 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:08:57,521 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:08:57,521 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:08:57,525 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAAKbw24MOP1xTQsIld9+Vsyj+yaAGbMLeQLnLJb6SDBiYrT5h33nugV794/JlXbYd5kdATXoMlhPpn9aHKb4YUQqvX6pG33k7K9Ad+h7jWh98jYKccBzsxmMg9PayYWuW0AAA==
2010-11-21 12:08:57,525 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:08:57,525 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:08:57,547 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:08:57,555 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:08:57,631 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:08:57,633 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:08:57,641 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52105]
2010-11-21 12:08:57,641 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52105
2010-11-21 12:08:57,709 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="5507400743083C5C7BD625323BE45A94",key="B73E4EBBF39517CF8B30FCD2A805B32DEA9D3E7CEE21D43B4294780168E5E0069EB8D78259FD68FC35A21774FCB24A458E40BFE34DF27A710AE9020E73CF1630A84A4D679ED15A9FA17AE2240A201E6561E0EB54EEB94B0CE0B0E3C3CA04D1F95DC1A16B8FDBAA65BB21A13B6E16BFFA2A61A0E54FE3D9BF4DC1532D2F6C38A3010001",signature="34B83E04326821A7D1043CEC0B1472599584E8ECB14D2FB66902EA57AD3A2104B328C9E7D81285ACBF8D150074533F3657542FDF3F6EC56A2B4EB4415BA2F547101B8E2E1702851C39BDBF2C44A0617E34E73BFBFF629CC00346E4F3018C0B06F553D15B4AECC0A005CE9F0B71C5FC6CC4C7955A8E116D4D33C129D55862B67F"
2010-11-21 12:08:57,800 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.FetionClient] [FATAL] - You have logined by other client.
2010-11-21 12:08:57,801 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:57,802 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:57,803 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:08:57,803 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:08:57,803 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:08:57,804 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52101]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52101]
2010-11-21 12:08:57,821 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:08:57,821 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:08:57,825 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:08:57,840 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:08:57,883 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:08:57,885 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:08:57,885 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:08:57,885 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:08:57,913 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 12:08:57,913 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 12:08:58,003 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:08:58,005 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:08:58,048 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:08:58,102 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.37:8080....
2010-11-21 12:08:58,176 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.37:8080.
2010-11-21 12:08:58,193 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:08:58,194 [TCPTransfer-Socket[addr=/115.181.16.37,port=8080,localport=52106]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.37,port=8080,localport=52106]
2010-11-21 12:08:58,194 [TCPTransfer-Socket[addr=/115.181.16.37,port=8080,localport=52106]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52106
2010-11-21 12:08:58,512 [TCPTransfer-Socket[addr=/115.181.16.37,port=8080,localport=52106]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:08:58,538 [TCPTransfer-Socket[addr=/115.181.16.37,port=8080,localport=52106]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:08:58,538 [TCPTransfer-Socket[addr=/115.181.16.37,port=8080,localport=52106]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:08:58,541 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:10:00,971 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:10:00,975 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:10:00,982 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:10:00,993 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:10:00,994 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:10:00,996 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:10:02,309 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:10:02,309 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:10:03,122 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:10:03,122 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:10:03,125 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACtcbBVNVuL8bnPuNADw4+NzsGJ9ud+D4loGt5K4moAvy91jsSZ54ORqVSxLrnoLTDuYLuvR6LWL5sYY49I5+HZhKSjSAOI4N+Iaa4q3unc2UldqHhLKjkJRCVQhwCYum4AAA==
2010-11-21 12:10:03,125 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:10:03,126 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:10:03,147 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:10:03,154 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:10:03,214 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:10:03,216 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:10:03,217 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52113]
2010-11-21 12:10:03,218 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52113
2010-11-21 12:10:03,328 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="7F377A4F58D00E6B7EFAF479778389D3",key="C1A9015B28BCB231377E1132FA946452AFEBBC3F48D72D90AC6A623E44B7119F246F3DFEB7F3C186EEE4ABC8A3685710327372FD679CFCF3C75397A86DFF2DDAF2EC326B9938209D80DBACCC2218C89A4F1167665C5DC51CEB594945EBC65C0AA7016DE53EFBC242ED9977F6744A8FC0A07BDB7F8BC0DCD545FF9D632DC08845010001",signature="0B6B88E95D108A649CC2A14018F0D1580F692B269DC659BE30143D51E6A887A2CC634902AA0BFA29DCD9FF71AEAA676344121A253AC67FEEAB0A6088A3E36CC26069D4C86617F430D0743D3D7F5CCDAAA597D86B7AE63D38F97B53FC4F4A8889DC33EED1C2E97641722B2B54B481437BEC91EFB247CAA472CD2794245F8DEE5A"
2010-11-21 12:10:03,418 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.FetionClient] [FATAL] - You have logined by other client.
2010-11-21 12:10:03,419 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,420 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,420 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,423 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,423 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:10:03,423 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:10:03,428 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52105]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52105]
2010-11-21 12:10:03,426 [TCPTransfer-Socket[addr=/115.181.16.37,port=8080,localport=52106]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.37,port=8080,localport=52106]
2010-11-21 12:10:03,448 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:10:03,450 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:10:03,455 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:10:03,467 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:10:03,587 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:10:03,587 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:10:03,587 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:10:03,588 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:10:03,744 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:10:03,744 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:10:03,747 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:10:03,957 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 12:10:03,957 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 12:10:03,959 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:10:03,964 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,964 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,966 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:03,966 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:10:03,966 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:10:03,967 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:10:03,967 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:10:03,967 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:10:03,968 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:10:03,971 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52113]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52113]
2010-11-21 12:10:03,988 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:10:04,147 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:10:04,148 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:10:04,150 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACtrlvTRZ2PMwhqfRPnma1unfnN/BN+SwW3GwoYPPpJ88FV2JJO0IjLGD5/6mfj7BDjw6MqT4vs02z1wgPk7cK8+xIP2dIY36bAve+0SOOkAZ++epFPMK0bG8SEpGWYinAAAA==
2010-11-21 12:10:04,150 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:10:04,150 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:10:04,152 [pool-2-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:10:04,152 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:10:04,212 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:10:04,212 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:10:04,214 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=52114]
2010-11-21 12:10:04,214 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52114
2010-11-21 12:10:04,352 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="3516E9291B0942344A79608B168D98D2",key="8AFAEEC60A8FC5D564A1E5BDA701E5412C64104332BA6E74EFDD2F950A993FE9D6DB5E60C3F2171A254E011E448470B14D6970DDD26C4D0A6A461B2CA8E8107C7A81A5BA097A4D35C0B00582F3EE224647D5A949780D713DEB11F5F92C12D00B52034A6C83AA2F333C44AC7730DBAF57C40973CCE906CCBDDA334679CBDAF8E7010001",signature="E76D45F37F2E026111B878C29C8B8C00AEE194945D76F3E816D4910AC64F8FDACB02166C450E55867C60C54EBF3669B41800CC69D5E0B90803136479D82DE78CA7C7E0963B0648D0CA923710653D78D611B44D1DCCAEEFE656354FCB2E5B454CB2F034B49C2B9D8E502944927F8FF41AE80AE9CD9751DB344C0AC91D5E27BC63"
2010-11-21 12:10:04,459 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:10:04,459 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:10:04,462 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:10:04,465 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:10:04,536 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:10:04,536 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:10:04,536 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:10:04,536 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:10:04,561 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:10:04,566 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040229529620]
2010-11-21 12:10:04,602 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:10:04,606 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:10:04,666 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.29:8080....
2010-11-21 12:10:04,741 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.29:8080.
2010-11-21 12:10:04,743 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:10:04,758 [TCPTransfer-Socket[addr=/115.181.16.29,port=8080,localport=52115]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.29,port=8080,localport=52115]
2010-11-21 12:10:04,759 [TCPTransfer-Socket[addr=/115.181.16.29,port=8080,localport=52115]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:52115
2010-11-21 12:10:05,045 [TCPTransfer-Socket[addr=/115.181.16.29,port=8080,localport=52115]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:10:05,050 [TCPTransfer-Socket[addr=/115.181.16.29,port=8080,localport=52115]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:10:05,050 [TCPTransfer-Socket[addr=/115.181.16.29,port=8080,localport=52115]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:10:05,051 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:10:05,192 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:05,192 [TCPTransfer-Socket[addr=/115.181.16.29,port=8080,localport=52115]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.29,port=8080,localport=52115]
2010-11-21 12:10:05,193 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:05,193 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:05,193 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:10:05,193 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:10:05,194 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:10:05,193 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=52114]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=52114]
2010-11-21 12:21:16,519 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:21:16,522 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:21:16,529 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:21:16,537 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:21:16,538 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:21:16,539 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:21:17,431 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:21:17,431 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:21:18,036 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:21:18,036 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:21:18,040 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABm5Qs8X4ARhBp05DT9UNVJUtnSs8wh6vzSIVGGTKn+aJR6lkitJnQOaOzWTUO152LfzGhyqAn7+fiTIItFnAj5E/5JoynFYdRf7CNK9ikfHvOi/BbDVH2mRDNrX4nc5cYAAA==
2010-11-21 12:21:18,040 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:21:18,040 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:21:18,062 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:21:18,070 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:21:18,143 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:21:18,144 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:21:18,159 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=53167]
2010-11-21 12:21:18,159 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:53167
2010-11-21 12:21:18,221 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1646BA5E3D6BEE9C73D389D414272D2E",key="9054BBCA4651518ECB7FB8AEE7A6CAC880AC1FC02338E2D3F2C1D73702609889CF6C3A519886182E6172C078C427D487FA9A3BBFC1B967759F373982F7F4CC9B5B1BEBEFBCE6C2F8B46A8F7C22E7C6E791D37F1C4C3205DB3A7C8B7254151CE0D639EBD4E98D48BDF5895FAE3A4128DF047DA6B28B2286475F1ADA77E4D4AE39010001",signature="BEBC0725017E61BE615906FE82A3C434ED0E34E746AF8828DD5FB8C00665B5DE0084DE7FE3C13B66F1F8222E6FA3DDAAFFF37757556B99D1A6AD105113923EBEA5EF1A13575D097BF1274A7C24F23D3B8098B45BD4A8138C6428F25734755C746BB642A08C2926427664E7740FC7B3276B327B3F9B9C6D464C122A7666FD77C2"
2010-11-21 12:21:18,331 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:21:18,331 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:21:18,333 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:21:18,344 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:21:18,391 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:21:18,391 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:21:18,391 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:21:18,391 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:21:18,463 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:21:18,463 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:21:18,466 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:21:18,493 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:21:18,602 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:18,603 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53167]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=53167]
2010-11-21 12:21:18,603 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:18,605 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:18,605 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:21:18,606 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:21:18,606 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:21:18,607 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:21:18,607 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:21:18,607 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:21:18,608 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:21:18,738 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:21:18,738 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:21:18,740 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABuoAN7P2hvlVSqTWjqykohbvcjSJZXLYI1r1YBAMSJY0+4UCn+/mKMNY7k4M2el14K2fAYtqVHEpfkcKzdat/Y19VJWt1AAToJt1TKjXDX9pBkF0LgDaeh8uv0AdbtbgwAAA==
2010-11-21 12:21:18,741 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:21:18,741 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:21:18,741 [pool-2-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:21:18,742 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:21:18,801 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:21:18,801 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:21:18,803 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=53168]
2010-11-21 12:21:18,803 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:53168
2010-11-21 12:21:18,864 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="4BDBD0D81AFF49FE328A44AA5ECBD60A",key="C43C58A844BB926034B4B927DAE9CD7E53F93BCDD22DD3D6CCF93665C012F8FC41A52AB27DCC3DBA576712D2AC1BDD1D1EC72D1D269A4B5A5BF925E01AA946C3534CD0631C507E9DF0DBB9C579D061567D1701553A15829557D6F1807AEAAC632799E1F9AF6131251CEAD7DA21A3165017331AFF55E963E2D8637455489139A7010001",signature="3B8B12201021169529C230D626DAFDC4AD86F63868456C8B98A0ED7C7D2A3227DAA24533635FA883A7577A0C4B98402DDB04124DA1AE4AA5BEE4190BFA8AE7190F441786548D62A5B4C50195DAD83D8A43BEC5B1A6DFA7B480F9F9F29FD770357A426EAD7AF0F329F58B536DCCCC884F9FFEAB6EE21F5672B15EF246066B8EC3"
2010-11-21 12:21:18,946 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:21:18,946 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:21:18,946 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:21:18,950 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:21:19,025 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:21:19,025 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:21:19,025 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:21:19,025 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:21:19,048 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 12:21:19,048 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:21:19,092 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:21:19,092 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:21:19,134 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:21:19,154 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.45:8080....
2010-11-21 12:21:19,217 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.45:8080.
2010-11-21 12:21:19,219 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:21:19,232 [TCPTransfer-Socket[addr=/115.181.16.45,port=8080,localport=53169]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.45,port=8080,localport=53169]
2010-11-21 12:21:19,233 [TCPTransfer-Socket[addr=/115.181.16.45,port=8080,localport=53169]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:53169
2010-11-21 12:21:19,510 [TCPTransfer-Socket[addr=/115.181.16.45,port=8080,localport=53169]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:21:19,513 [TCPTransfer-Socket[addr=/115.181.16.45,port=8080,localport=53169]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:21:19,514 [TCPTransfer-Socket[addr=/115.181.16.45,port=8080,localport=53169]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:21:19,515 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:21:19,645 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:19,654 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:19,654 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:19,655 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:21:19,655 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:21:19,655 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:21:19,655 [TCPTransfer-Socket[addr=/115.181.16.45,port=8080,localport=53169]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.45,port=8080,localport=53169]
2010-11-21 12:21:19,655 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=53168]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=53168]
2010-11-21 12:25:26,798 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:25:26,802 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:25:26,810 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:25:26,819 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:25:26,821 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:25:26,823 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:25:27,446 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:25:27,447 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:25:28,079 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:25:28,079 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:25:28,083 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACTllSpQK1Ofqv+sF4zYvrMb4uhlDDjqkpQvudft/1vZUxEcGkuUmGxiuau5/OP/Ywd7mt9KjVchM8942QzBl9pCs4Naia5rut8g30835g8EqMXg/StLkhVHa2KCCEHIgkAAA==
2010-11-21 12:25:28,083 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:25:28,083 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:25:28,106 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:25:28,111 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:25:28,168 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:25:28,170 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:25:28,171 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54203]
2010-11-21 12:25:28,171 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54203
2010-11-21 12:25:28,246 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="50522447378152DD6A69F8134B09DF6F",key="D6779C5E53FCD1EC68DE997A7474AEB3D1B735FB269347E224A626873429A56DCB08C5A46F770952AE8B9F5FB39A101EE487C4A56291EC66A79F5879CDD1F86011ED2C98443A9B9C8E5510CAC47BFB50D7622ED6BCD04205E4E9C6F7B3731194BF65F0EE6968D3C0B74F2585F563AB2CEE0D8DB32F8055B1C02CAC0E70AFE2F5010001",signature="9FDA6E57F0499545BA28A13BC53C0EADA76480ACBB4D61DCC6256A235D0FD0B9AAFAEBA7B19C1788D095E221A1FB1EF777D3AF878FA3E1CD5B81FDDF2ADCB6B1E2162EC1B7EC9A4CEE081BB5D246FDCCD05B74446F16F82B9B25E9948034439CA498DA55A8C6DD5425EE62F95F824D0C97729881F75B58E3490459AF6747801A"
2010-11-21 12:25:28,387 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:25:28,387 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:25:28,390 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:25:28,400 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:25:28,461 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:25:28,461 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:25:28,462 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:25:28,462 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:25:28,535 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:25:28,535 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:25:28,538 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:25:28,581 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 12:25:28,582 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:25:28,665 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:25:28,666 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:25:28,666 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54203]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54203]
2010-11-21 12:25:28,667 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:25:28,667 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:25:28,668 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:25:58,669 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:25:58,669 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:25:58,669 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:25:58,670 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:25:58,670 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:25:59,177 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:25:59,178 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:25:59,180 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAADpJwwA0Zgxb6uzZAvSGY0QVI96iZEaQMIFsbzfJhIRbNKIlUaiDCTg+fXS528pYHXpBQFo47FIK8Dtw9q+Ju7SITvWvZRqbhPPJ5Mt9I3Ya8E+4qLo6QbVkNdHDbQ4HZMAAA==
2010-11-21 12:25:59,180 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:25:59,180 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:25:59,181 [pool-2-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:25:59,182 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:25:59,242 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:25:59,242 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:25:59,244 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54321]
2010-11-21 12:25:59,245 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54321
2010-11-21 12:25:59,308 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1938AE0711155CE54E67E0541C0171D1",key="942BB66CC349E5BFB4BD7F8AE76ED42C01EB0FE2C755E48797B0E05E27164783589CC67CD74A6009477A3DE5782C8D9E27F81D78DAD7B3C4A15B5FECAC398809443698A0444962876B551B4568AB9657F6915086B432E56E4F14FCD2C7F0AB784681FDF50EF7BF2177AE9BB02443923F7386ECC0BB44D8EE3CB8D58B95E1374B010001",signature="757C57D0E757EDC8DABC007B73819C191F1952C8E6F957C119F2B4CF61D1D0A5900E3DC734D945195882039BD9476A8629272CD79BFAD3B395BED771382AA3A28333414B16AA5873219261693DDC754820FB1DDF4745EB41608C38F25CBF0E6CD70C7F552CC3EEAE161DE7C3ECBDFB5BEDBA6E4F2846D71571C050A9BB1782DA"
2010-11-21 12:25:59,402 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:25:59,402 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:25:59,403 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:25:59,412 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:25:59,462 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:25:59,462 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:25:59,465 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:25:59,465 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:25:59,534 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:25:59,536 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:25:59,539 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:25:59,601 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.57:8080....
2010-11-21 12:25:59,649 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:25:59,674 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.57:8080.
2010-11-21 12:25:59,675 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:25:59,679 [TCPTransfer-Socket[addr=/115.181.16.57,port=8080,localport=54328]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.57,port=8080,localport=54328]
2010-11-21 12:25:59,680 [TCPTransfer-Socket[addr=/115.181.16.57,port=8080,localport=54328]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54328
2010-11-21 12:25:59,961 [TCPTransfer-Socket[addr=/115.181.16.57,port=8080,localport=54328]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:25:59,966 [TCPTransfer-Socket[addr=/115.181.16.57,port=8080,localport=54328]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:25:59,966 [TCPTransfer-Socket[addr=/115.181.16.57,port=8080,localport=54328]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:25:59,967 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:26:00,121 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:00,122 [TCPTransfer-Socket[addr=/115.181.16.57,port=8080,localport=54328]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.57,port=8080,localport=54328]
2010-11-21 12:26:00,123 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:00,123 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54321]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54321]
2010-11-21 12:26:00,124 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:00,124 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:00,124 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:26:00,124 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:26:30,124 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:26:30,124 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:26:30,124 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:26:30,125 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:26:30,125 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:26:30,631 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:26:30,632 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:26:30,635 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACj7SPiZwjzSUXsnKbCy4+3gturB8/7DRCuNEN/E6hDhLZhy2/tRreEGVx/6bZBq8AQxAtHqRhIXx54D0QSak/b3hfOgh1MENBPnwukxAoTtqYMqfcAnW7zWYE8dowIQdcAAA==
2010-11-21 12:26:30,635 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:26:30,635 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:26:30,636 [pool-3-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:26:30,636 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:26:30,696 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:26:30,696 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:26:30,697 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54471]
2010-11-21 12:26:30,697 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54471
2010-11-21 12:26:30,768 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="167FD59C4FDE0F9323948D056F3E7831",key="CBFEB8279AA6F9E7500D0BFB3FB00F5C9E692E52071AC7B8C7512BDAB2BC14DE57E26C280AEE716033215A50D61147AD2DA9E400462762D7C0230DCDD7BC4B0A3A9F65DBADA0D8EB527D1E9F5E8912B7DDCB3A4B0BA1AEFD84DE0B4CF5BC2E18057B183BE9F5168272E469B615F79DDD5C3F2157D6EF29E993C812BD749AD7BB010001",signature="B6904D951118187D6461B6AE40DBED81F96DBA994CFFB3BE3BB1D2BFB3BE41AA31821329BFF2C32481AC09FC4AD079F64EB87BA465DC2797726618EF8FB64E15CE61F8344687DC29FAD4F3C5AE6C539564013BD520CB147E890D344CD8EB5906E908C7DA3C5C372337C0C9732EDE2AC62E1ECC7C11B672FE18BC901B74443BF9"
2010-11-21 12:26:30,845 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:26:30,845 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:26:30,846 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:26:30,853 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:26:30,903 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:26:30,903 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:26:30,904 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:26:30,904 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:26:31,025 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:26:31,025 [pool-3-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:26:31,081 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.31:8080....
2010-11-21 12:26:31,086 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:26:31,140 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.31:8080.
2010-11-21 12:26:31,141 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:26:31,146 [TCPTransfer-Socket[addr=/115.181.16.31,port=8080,localport=54474]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.31,port=8080,localport=54474]
2010-11-21 12:26:31,146 [TCPTransfer-Socket[addr=/115.181.16.31,port=8080,localport=54474]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54474
2010-11-21 12:26:31,209 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:26:31,390 [TCPTransfer-Socket[addr=/115.181.16.31,port=8080,localport=54474]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:26:31,392 [TCPTransfer-Socket[addr=/115.181.16.31,port=8080,localport=54474]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:26:31,393 [TCPTransfer-Socket[addr=/115.181.16.31,port=8080,localport=54474]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:26:31,393 [pool-3-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:26:31,513 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:31,514 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:31,514 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54471]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54471]
2010-11-21 12:26:31,514 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:31,514 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:26:31,515 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:26:31,515 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:26:31,514 [TCPTransfer-Socket[addr=/115.181.16.31,port=8080,localport=54474]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.31,port=8080,localport=54474]
2010-11-21 12:27:01,514 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:27:01,514 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:27:01,514 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:27:01,515 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:27:01,515 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:27:02,016 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:27:02,016 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:27:02,018 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABzmOLUcumvb/XX2ZhxtQW/1fu+9M9ZiuxL4jsempLL9Y3QChKR3IOFWjZo062eA5Hp93sK7rJMjvNJ9ehiPYgBa5FBNBcq5rNGsYSrWhUaN0KD+sFpZ3+F4DzlieKOXaUAAA==
2010-11-21 12:27:02,018 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:27:02,018 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:27:02,019 [pool-4-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:27:02,020 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:27:02,080 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:27:02,080 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:27:02,081 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54609]
2010-11-21 12:27:02,082 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54609
2010-11-21 12:27:02,142 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1B1A74CD6C34B6A449DCB98743A6B26E",key="C28885667200F55F9E71D7CC2D17F00C75C110A6548BDFA48744D258716D8A554DE2DBDD9EC2BBAB053264801D99EE061D74DEDD7B4AB7CB415872D1460C93F9B98FE80CBDD407892F6B1CB1BFBA5DEB12290E7880C0ABFC2F749C6E5C48C637BF05866F13A32711CE1E11D58842E6051A01311ADAF401A928A517F5EAECF10F010001",signature="CC73D8877D329EDF237A9AF25F04328F981803ABD8E79ED81AC3BBE9E71CEBDDACE6E682ACBADACBEE81EB806EF9265168A35839CCF4E90B555CC0194FE8139A0442D5DE167DE57DD49071F35930E9FE977FD9DC9D3E871886A2A6E6CEF0D8A7BB98FA7BD46E6ACB91293CDB3D502F6FD1EC0028255D455B58E3C051A9C6EFC9"
2010-11-21 12:27:02,219 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:27:02,219 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:27:02,219 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:27:02,235 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:27:02,287 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:27:02,287 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:27:02,288 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:27:02,288 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:27:02,361 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:27:02,361 [pool-4-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:27:02,418 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.59:8080....
2010-11-21 12:27:02,426 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:27:02,445 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:27:02,476 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.59:8080.
2010-11-21 12:27:02,478 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:27:02,480 [TCPTransfer-Socket[addr=/115.181.16.59,port=8080,localport=54610]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.59,port=8080,localport=54610]
2010-11-21 12:27:02,480 [TCPTransfer-Socket[addr=/115.181.16.59,port=8080,localport=54610]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54610
2010-11-21 12:27:02,738 [TCPTransfer-Socket[addr=/115.181.16.59,port=8080,localport=54610]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:27:02,740 [TCPTransfer-Socket[addr=/115.181.16.59,port=8080,localport=54610]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:27:02,740 [TCPTransfer-Socket[addr=/115.181.16.59,port=8080,localport=54610]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:27:02,743 [pool-4-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:27:02,857 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:02,857 [TCPTransfer-Socket[addr=/115.181.16.59,port=8080,localport=54610]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.59,port=8080,localport=54610]
2010-11-21 12:27:02,857 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:02,858 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:02,858 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54609]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54609]
2010-11-21 12:27:02,858 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:02,858 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:27:02,858 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:27:32,858 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:27:32,859 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:27:32,859 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:27:32,859 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:27:32,868 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:27:33,372 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:27:33,372 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:27:33,374 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACgGGTFBydPElYzH7vHL5pa7zKL/VKwaCMdmbJVakhikhfgqd02hYrfJb/c4Y2CMVl8dEh7bJmly+PHrK++aGSHU2mvIJsu8an727r9j/93D6IkDf+97M1IsCIDYHsHSAgAAA==
2010-11-21 12:27:33,374 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:27:33,374 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:27:33,375 [pool-5-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:27:33,375 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:27:33,456 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:27:33,456 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:27:33,458 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54747]
2010-11-21 12:27:33,460 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54747
2010-11-21 12:27:33,534 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="6AC94F127A2B9CD711E43A3F524D4AAF",key="BF76FBFFD4B5DD67D24B352B1229E60FCAE67E2E324A167D677B0C1B3FA95E8A0DD15AF18462C1D5BD5693F5181F2008EC95B5091730DEC8291AE88D4CB88411960843BE085BF51D54E3815061B9B348A829EBE3211698E306D57A49521EED7865FB34D3EA35FC70EE49B61F775739B939E0A59B059F625EDFF3945B2D36768F010001",signature="049B9196AB57BEAB9BCD7C9DEDE0D9DB54E0E72AE5C11A1D601C2F3D23CD0B425737476B702ACBC9BF9D79A9D5BBD3EE6ECA0C0871D0FC47EE43C0F920952A99FBBB850D5BCABA5E0A9CB9B677AEDA6A5287E7FEEF0E91B75DD44C8F00112524FC964764E8FBB97CE72BC7E0A8E18BEDD350B23E12343B854E483130A3C4F94F"
2010-11-21 12:27:33,614 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:27:33,614 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:27:33,614 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:27:33,620 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:27:33,678 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:27:33,679 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:27:33,679 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:27:33,679 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:27:33,691 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:27:33,745 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:27:33,745 [pool-5-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:27:33,767 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:27:33,801 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.47:8080....
2010-11-21 12:27:33,860 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.47:8080.
2010-11-21 12:27:33,861 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:27:33,865 [TCPTransfer-Socket[addr=/115.181.16.47,port=8080,localport=54750]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.47,port=8080,localport=54750]
2010-11-21 12:27:33,866 [TCPTransfer-Socket[addr=/115.181.16.47,port=8080,localport=54750]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54750
2010-11-21 12:27:34,134 [TCPTransfer-Socket[addr=/115.181.16.47,port=8080,localport=54750]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:27:34,136 [TCPTransfer-Socket[addr=/115.181.16.47,port=8080,localport=54750]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:27:34,136 [TCPTransfer-Socket[addr=/115.181.16.47,port=8080,localport=54750]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:27:34,137 [pool-5-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:27:34,251 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:34,252 [TCPTransfer-Socket[addr=/115.181.16.47,port=8080,localport=54750]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.47,port=8080,localport=54750]
2010-11-21 12:27:34,252 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:34,252 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54747]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54747]
2010-11-21 12:27:34,253 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:34,253 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:27:34,253 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:27:34,253 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:28:04,253 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:28:04,253 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:28:04,254 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:28:04,254 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:28:04,255 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:28:04,759 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:28:04,759 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:28:04,761 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAADpEsBJq6g2m+V1iNubQGEvtKpuM1M290dQPk+3Ii0Tw8yWyc0ZbAmsCjxy60X5rDrT93X+pTB+u27B4FHICxEb+ZwQ5mNrTMdpeTzL3xUUpdMvZ2UFwbTOWJtPQ7wPSQAAAA==
2010-11-21 12:28:04,762 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:28:04,762 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:28:04,765 [pool-6-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:28:04,766 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:28:04,825 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:28:04,826 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:28:04,828 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54868]
2010-11-21 12:28:04,829 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54868
2010-11-21 12:28:04,892 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="4996D4A74114DA5B43FDA367745CBD36",key="B7DDA3FD952EFA438B87D08973D6D1B337323857846091DE075E6ECDFC121C1E881D1842318355A4AB5493DE3ECD6C863F01DCBBDA4082FD6C8E49E3FBC120D2F45BF1FD6351E13C5D9B67282949F035E1D513A63BD6B39283FEA43DF48024F9BCA3429C0D0B46D551D4557BC25D30687940B93F56B48C81EF350BCAB33CD463010001",signature="09364878DA6858E6B3829998E53BFCE968263C7842E0055981C142C932A60A574BCE1F98187B520ECE2A2F824132EBE6DF9AE09A473B3321EE3EC3E6B2402C9436A1D31B5C15D4023752EE1FD21C4360233EDD665E8273688EA45E957980B110B3222537F655DDA83CF78E250FEAF708FAB4E169199C8AC68F5FD7AAD98F829A"
2010-11-21 12:28:04,970 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:28:04,970 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:28:04,971 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:28:04,983 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:28:05,034 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:28:05,034 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:28:05,034 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:28:05,034 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:28:05,064 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040217197857]
2010-11-21 12:28:05,101 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:28:05,101 [pool-6-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:28:05,110 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:28:05,159 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.19:8080....
2010-11-21 12:28:05,218 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.19:8080.
2010-11-21 12:28:05,219 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:28:05,220 [TCPTransfer-Socket[addr=/115.181.16.19,port=8080,localport=54875]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.19,port=8080,localport=54875]
2010-11-21 12:28:05,220 [TCPTransfer-Socket[addr=/115.181.16.19,port=8080,localport=54875]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54875
2010-11-21 12:28:05,470 [TCPTransfer-Socket[addr=/115.181.16.19,port=8080,localport=54875]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [INFO] - Got a option notify, ignore it .
2010-11-21 12:28:05,472 [TCPTransfer-Socket[addr=/115.181.16.19,port=8080,localport=54875]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [WARN] - Unknown converstion event type:Support
2010-11-21 12:28:05,473 [TCPTransfer-Socket[addr=/115.181.16.19,port=8080,localport=54875]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - Buddy entered this dialog:sip:624436624@fetion.com.cn;p=1893
2010-11-21 12:28:05,473 [pool-6-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[LiveV2ChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:28:05,588 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:28:05,588 [TCPTransfer-Socket[addr=/115.181.16.19,port=8080,localport=54875]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.19,port=8080,localport=54875]
2010-11-21 12:28:05,588 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:28:05,588 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54868]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54868]
2010-11-21 12:28:05,590 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:28:05,590 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:28:05,590 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:28:05,590 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:33:49,734 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:33:49,738 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:33:49,745 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:33:49,753 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:33:49,755 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 12:33:49,757 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 12:33:50,376 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 12:33:50,376 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:33:51,007 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:33:51,008 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:33:51,011 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABjOCX2vTRWQ1IWkw4GGMnq+ss5kitou2p7dA+oBEkOZbyH/6nyAVVUJJ7SY2DjLAYdGL9GlDeFPpvpSi15IakR2AIFMc+1GixmiubOnBN76Y++wjnLCeabkOOoJYPEFXYAAA==
2010-11-21 12:33:51,011 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:33:51,011 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:33:51,033 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:33:51,039 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:33:51,105 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:33:51,107 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:33:51,110 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54947]
2010-11-21 12:33:51,110 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54947
2010-11-21 12:33:51,184 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="2DF681292E3A14B33D97DCF573C0C6EC",key="CD4F29CD6CC9D8F80218E942B1863BA5B7A69B52A44392BC896003D0D12146325BD8AE5CF68C27F5E6D46DCC6ED1A1404789D937B3CB5E02D05B39ECA3EC19FE0C72812A4EDB540A9C9EF74286A88B34C7C11BEE2DCF0584E37E4A66330A72411E14973887B2F61E4D254BC0324B16FCF8D24FC959776B3AB53B1C8F572125E1010001",signature="8EA6B415F5CEEAE96A0CFA825AC40A5112D78101B8DD6EA9AB7C4183A30D5A0E324FDE7080D03D920B80363DFC1058A8F5AEDD3AB51F4B48B0B9283AECE2982BB4235B4FFA0E5D6BF7A789BA6B6F6613D900C204F890811C8010CA50CB7134E7C7F50D0D512A470675D87579FC99F3D7F0AEEFFF4B920A8E64D3088F2D495C84"
2010-11-21 12:33:51,309 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:33:51,310 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:33:51,313 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:33:51,326 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:33:51,370 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:33:51,371 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:33:51,371 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:33:51,371 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:33:51,458 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:33:51,464 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:33:51,465 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:33:51,468 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:33:51,514 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:33:51,529 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:33:51,530 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:33:51,530 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54947]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54947]
2010-11-21 12:33:51,531 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:33:51,531 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:33:51,531 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:34:21,530 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:34:21,531 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:34:21,532 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:34:21,533 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:34:21,534 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:34:22,038 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:34:22,038 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:34:22,043 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAABoXs6U+eGFOYGVnzxOScgcFFkxYnp5XpETBNLrcvrbJMXI6v6VoqWirKCLj+Pez0CflWCb7hOj0gVb/A4HGyx9b3lLfgkE6V3PMa43qIgNcsoQzzxAj5pQvWJZBC4dg0sAAA==
2010-11-21 12:34:22,044 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:34:22,045 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:34:22,048 [pool-2-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:34:22,048 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:34:22,106 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:34:22,107 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:34:22,109 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54951]
2010-11-21 12:34:22,112 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54951
2010-11-21 12:34:22,171 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1DAC12974E945F1B18972B9E12D707E4",key="8AC90997D2A82172BC34CDB991E3C8C5F5C4A85BF750E05AF3EE6FA0CFD5D765868BF5E52E06EA21642587427938531A49693743DAC2500B37BE70CFE367623CF83B1B35612DB43102216751D9636FF8E8CE1F51F6317E59526CAB3C6CAB9D161D550578B6D42C7A67C042C45BCDFDB6C43BC71834E53A3FF043F83952C30E91010001",signature="192554E651960F5308BF297F8562B681F1A679FE2636FB75A318B4692026D2C8B683292AE33CD05F6DE0EF13F2A7C9B3019CADD2936392FB5A17964DB6C0377BD6AC2912367E0D763EAD9C23CE428A10D0EDE1D670226A35D06141916A2E1F67BAC2232D09E1AC471451A0A91D2F3196678E171C07E1FC2E7BF6BD77E1587499"
2010-11-21 12:34:22,253 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:34:22,253 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:34:22,253 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:34:22,261 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:34:22,320 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:34:22,321 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:34:22,321 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:34:22,321 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:34:22,410 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:34:22,410 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:34:22,411 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:34:22,474 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:34:22,474 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:34:22,474 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54951]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54951]
2010-11-21 12:34:22,474 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:34:22,475 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:34:22,475 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:34:52,474 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:34:52,475 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:34:52,475 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:34:52,476 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:34:52,476 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:34:52,981 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:34:52,982 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:34:52,984 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAACnjx6UNxJClO2lsiY0uFoJYSXktjYwVKSldr058QB3Cv0US2RTPLbAkagD7qzaqtx09jionj/4irmY/XTaPNFbtWyorib7+7ykZuOYa0Cs4hCaKwyzp64ltbrsTHSM6oIAAA==
2010-11-21 12:34:52,984 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:34:52,984 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:34:52,985 [pool-3-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:34:52,986 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:34:53,054 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:34:53,055 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:34:53,057 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54953]
2010-11-21 12:34:53,057 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54953
2010-11-21 12:34:53,407 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="19B5A35D1A868B371F95F109195F8C22",key="9A3F5938DC03ACB9BF282509BFEF33B361A9B9E331716BF6B33E1A6BCB8A67A62D94DF9DE04B24EB8EB638F81C5147A176503FFCA1E80D9FF72FE8044F3C4B70C0E1B547B4E33603966BCA20D95FAB4C8391D949447598F4E22E02E89C29B50D4103B0753C06C8445E557992BEA1EA88F3BD0E866C87CFEFA416705841A03B5D010001",signature="BD97FFF705BA941100AAD8445A10FC172921B93062AB71EF47AA639AB31AE72A068E8D948DAE81FD4A32D438F86D97F405A8FC4D32602DA721FB514EC42308FC2C9EB3604977A44C8B3EF15FF58F1B3FB4D7499C430D31A3537D6BCF107DE37A47FE18AC49EE70B58BEBA4E54109C71F294F04CB6DD7679812DEE43553149057"
2010-11-21 12:34:53,484 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:34:53,484 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:34:53,484 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:34:53,492 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:34:53,541 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:34:53,541 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:34:53,541 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:34:53,542 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:34:53,614 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:34:53,615 [pool-3-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:34:53,615 [pool-3-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:34:53,669 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:34:53,677 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:34:53,677 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54953]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54953]
2010-11-21 12:34:53,677 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:34:53,678 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:34:53,678 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:34:53,686 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:35:23,685 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:35:23,685 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:35:23,685 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:35:23,686 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:35:23,686 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:35:24,190 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:35:24,191 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:35:24,195 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DhIOAAD94q/z5VCQPSjsZl5vwC4DK7JK2IzfEK+ATFEpuDtApXSQgUBioltXkBjhK44yjnCO78ESWpSocesDaVv6ovjy62BN87xCI3OFH5WTITwiJJ0w6C0gzblpUllYL87y4CEAAA==
2010-11-21 12:35:24,195 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:35:24,195 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:35:24,197 [pool-4-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:35:24,198 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:35:24,262 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:35:24,263 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:35:24,264 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54955]
2010-11-21 12:35:24,265 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54955
2010-11-21 12:35:24,334 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="5B79B172651B0294289D89244E6898F8",key="DA46611A866590400D3F33B9D3D1BA48FA07A636C8DF373E5343900A5B0F6778F9967BF6980C78CA27D823D1D80C42FD0AA210CF6E5B27329596AF436ACF6D087D636078226C238949217BCF3682794DEF4C18B713B34432BE0BF358B6A1DFA515F0E576EA65448C48D053E1482BCE0A97A4EE70809EAD209D1A7D72ACC941F9010001",signature="72E9F6463970BCAB1EC6BEA2B87394B3C2421C84B515DCDAAE576942DE1D63E527D285A4548DDD8447FE01863265E25AB31F2C4228197D1623A46DD39710659AD9989368EDEE3B4FDFB8F90BB931001EEE23D9D24D3C3BE641A28490E73E7C68C8B5DDB13845632D1AAC4926BD5AF39B419146F5B549737322C127E406A22F8A"
2010-11-21 12:35:24,412 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:35:24,412 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:35:24,412 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:35:24,420 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:35:24,485 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:35:24,485 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:35:24,485 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:35:24,486 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:35:24,492 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:35:24,523 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:35:24,553 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:35:24,554 [pool-4-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:35:24,554 [pool-4-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:35:24,620 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:35:24,621 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:35:24,621 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54955]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54955]
2010-11-21 12:35:24,621 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:35:24,621 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:35:24,622 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:35:54,621 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:35:54,622 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:35:54,622 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:35:54,623 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:35:54,623 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:35:55,128 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:35:55,128 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:35:55,131 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACll7r5NYkTKqfPFnBmD9EBUN9YxjtFS9K2W67LVOCqRbUL3FkEfgrj+lokTaJ0RIHKG5UvcLD94P6kfwTFr8yZl85Z3pfIbsrtAtQEHAFzcoIOeGdZIH7Zk1UI2UcuLJUAAA==
2010-11-21 12:35:55,132 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:35:55,132 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:35:55,133 [pool-5-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:35:55,133 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:35:55,200 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:35:55,200 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:35:55,201 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54957]
2010-11-21 12:35:55,202 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54957
2010-11-21 12:35:55,272 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="12613C951D8CFE3B6901FAE636F1A67F",key="D36E2B905CF8D6156F331212F9E1C7465D99C7D9FF9DEBE750675F6BBBD8FA38D448BE1FF76785CEF8BFEA003137265E450BEE1B1FF785D9537FFAEF031F009C78DD6B41721BA7360EA0EE7A3DF9F97F2D5549807B3AB45A98FE02884D0269E93DD14DE0E6E2108936A1F8846130F45A56CECE1B04837E2B4E9E099DDEC4F02F010001",signature="CA90E2466DE63DFAD0E9664DA8833B0412876D5D7C3B95D209C447631C59025C97C2B2C0FDF5C3D33D1B8E34BEE512820FF7FFC2167C509D46F6E106B07AE4551804B2CB1F53877CA808E4FA369B2CB58B5C4DD46420C3FAF590CD324C168F8E8B3D72873493FB71498CC0C1E877B9EC3CC9C76C0F7EC48F2B330B22D68145AD"
2010-11-21 12:35:55,651 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:35:55,651 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:35:55,655 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:35:55,665 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:35:55,731 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:35:55,732 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:35:55,733 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:35:55,733 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:35:55,810 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:35:55,810 [pool-5-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:35:55,811 [pool-5-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:35:55,814 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:35:55,816 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:35:55,872 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:35:55,873 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54957]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54957]
2010-11-21 12:35:55,873 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:35:55,873 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:35:55,873 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:35:55,873 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:36:25,873 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:36:25,873 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:36:25,873 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:36:25,874 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:36:25,874 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:36:26,375 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:36:26,375 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:36:26,377 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAAFCVYBRG0TNBOoGzO44m4/WHifq/4ndqVzvWK746Ik2BoOhieK25bEcomXCBCBg/p9uyJc2ZvAkRklCjdigxKll0Ktrd/2mhOcMrzkVDEKwjHx+/gWnx5CHPR8OcIqqO4AAA==
2010-11-21 12:36:26,377 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:36:26,378 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:36:26,378 [pool-6-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:36:26,379 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:36:26,437 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:36:26,437 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:36:26,438 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54959]
2010-11-21 12:36:26,438 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54959
2010-11-21 12:36:26,505 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="1319E89A289058BC3BF08155307F529E",key="D0626652D5A9B6CF21C1D26F799FE0BEE1B628918093E85F6B30903FD33D4783B27079E002E63978D9D3F4A9A4AB63C26C48EECC1B66C0DA02C2D8CC3958C61A05C446AA7FBEDD23A8D0AA3EBABDF4E04DCEF61C4349026E4007F26A34E25D862F78033192B8E8EB07DFA33A82C30390341AB9608F992B18C2128A6E4DCD0081010001",signature="A676706B352571D237D4C3BD2E3D0B68F86FB6CC4A309BD40428BDFBD33934A42738E8C49458B0FFF80A53883A0D3BA89FBDAA3BE69F95A2EF281495C8F6C4E452DF891919E4D08618BA6D8118CD16BAEB9BBF6231C9AE278568FD873A453A22CD4CD7C3387AB86E8D79B1B72C05ED1D8F26EC64589B95B8ACA203DECCDAC286"
2010-11-21 12:36:26,581 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:36:26,582 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:36:26,581 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:36:26,588 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:36:26,642 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:36:26,642 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:36:26,643 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:36:26,643 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:36:26,708 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:36:26,718 [pool-6-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:36:26,719 [pool-6-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:36:26,780 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:36:26,781 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:36:26,781 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:36:26,781 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:36:26,781 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:36:26,782 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54959]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54959]
2010-11-21 12:36:56,781 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:36:56,781 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:36:56,781 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:36:56,782 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:36:56,782 [pool-7-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:36:57,285 [pool-7-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:36:57,285 [pool-7-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:36:57,287 [pool-7-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABYHQJYvEy3ocLXfIZZJ49tlAjCiGR0+3KnR45Sah5T6nJuHtGDPCUqTDMrpNAby5OwEZLPhJ63BEICRiq336+OLjD4mnsSUlEy1j4wMSL/N1iEMVNB1IAaHa2U2L9MQ7QAAA==
2010-11-21 12:36:57,287 [pool-7-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:36:57,287 [pool-7-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:36:57,289 [pool-7-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:36:57,289 [pool-7-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:36:57,351 [pool-7-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:36:57,351 [pool-7-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:36:57,352 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54964]
2010-11-21 12:36:57,352 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54964
2010-11-21 12:36:57,413 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="7B4084F71384DD0816A3617E1A187922",key="AFCED1AB0B8791B7AB3C786147B51A429C420920391D689067F54919AF841E763F977051D3058B5CF1408D386B3AE29F0191C44432909AB23D23C11BB70C0A98537C536C8A1201A30DB1B39D40362413D8343BFFE834229ADAE3AAF46E5D7471AD3B5A792FDB84277D5EFD46E8598AD929EAC0221D4ACAC38B4A444AB40DF613010001",signature="4215F5C9891B11DBC27E91E7A9532E3982635181202CC9D056A0C49856357148E7C1602D0DE044A8BFC1117C964372B99382FEA93E1E4B0AA229CC8C75E6E0A26CA4FFA898415A88366B9826DB11E4EC4C089DAE7BDEE4C12D1FAAE8B0577AFA555C99D3190DBC5AD8C8E27EFFC2FBE1378479190AB5C0C1DC543886E58534DB"
2010-11-21 12:36:57,489 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:36:57,489 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:36:57,492 [pool-7-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:36:57,497 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:36:57,555 [pool-7-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:36:57,556 [pool-7-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:36:57,556 [pool-7-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:36:57,556 [pool-7-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:36:57,622 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:36:57,622 [pool-7-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:36:57,623 [pool-7-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:36:57,683 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:36:57,684 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:36:57,684 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:36:57,684 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:36:57,684 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:36:57,684 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54964]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54964]
2010-11-21 12:37:31,555 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:37:31,556 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:37:31,556 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:37:31,556 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:37:31,557 [pool-8-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:37:32,059 [pool-8-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:37:32,059 [pool-8-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:37:32,061 [pool-8-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAD9/NPzHeQlNhIP+CBi72Yvj0iWupvTqH6/vpjLWRxcZs/+nWJpQkOVHqEKUNm2p03hD17taTeIcv6tl8lsf167WCa67o3b6KxqTPO93X6hz4JVcXNkQ1dSfXmW8njQrYoAAA==
2010-11-21 12:37:32,062 [pool-8-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:37:32,062 [pool-8-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:37:32,063 [pool-8-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:37:32,063 [pool-8-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:37:32,127 [pool-8-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:37:32,127 [pool-8-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:37:32,134 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54969]
2010-11-21 12:37:32,136 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54969
2010-11-21 12:37:32,481 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="2AE505B46F0E947514CA0A7F4AF7B302",key="B17C1B830D64364D16E628AD85C46EEB443D956755CA8D518E6E525B5B012BB1AD2640D5DDCBC3CB5E90D048EAAF0251302357E2E4193141F1ACF13BA824489F465D7C7345E49A0D2DBF4402483F53CAF19031EBB9D1DAFDA83254E72A01E6C8465EF6D921E4B5D89A44019CDC8319BF754410F0D81AC36130B13CC4D7CE892F010001",signature="21CFFC353315DD541E3FDD33E6755545AFAFB4805D32FF0207CC42189AF392060AB606D5A74018C3DCCED01EE2A0D9EEA404D221C8176332B37FAC2817201FE97CAC38E7B2D95C6B08B1AD9D5D661FB15544D3B27473F59C0AAAE7A95DD76B8E77106D1CCEEA3B78D3DEFA5CA3465AFC60C751A0DAD3F002F331989881ECA01D"
2010-11-21 12:37:32,558 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:37:32,558 [pool-8-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:37:32,558 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:37:32,594 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:37:32,617 [pool-8-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:37:32,617 [pool-8-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:37:32,617 [pool-8-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:37:32,617 [pool-8-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:37:32,624 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:37:32,681 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:37:32,684 [pool-8-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:37:32,690 [pool-8-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:37:32,756 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:37:32,757 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:37:32,757 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:37:32,757 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:37:32,758 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:37:32,758 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54969]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54969]
2010-11-21 12:38:02,757 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:38:02,757 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:38:02,757 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:38:02,759 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:38:02,759 [pool-9-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:38:03,259 [pool-9-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:38:03,259 [pool-9-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:38:03,261 [pool-9-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAAgSiCIpFaGtCVO503qQCBRKCV+qyI1N37BhsPrgX5nFV/FIsXHvnjqEyc45t4pjL8q9u+1+YgQ5jUTK4CVYta51T4L/c0+NmLHV8yPEVO5wgEo2U9Yrimqb/M4pC58NKwAAA==
2010-11-21 12:38:03,262 [pool-9-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:38:03,262 [pool-9-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:38:03,263 [pool-9-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:38:03,263 [pool-9-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:38:03,322 [pool-9-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:38:03,322 [pool-9-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:38:03,323 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54972]
2010-11-21 12:38:03,323 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54972
2010-11-21 12:38:03,385 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="16079D8239AEF3D943F2CE1C1ABC314F",key="A0E835D8151D260C09FA0EE606FBD09B11377EFF80F1F7D7801C29F443FFC6B5395EB48780ED93FC6AA037AFAFFAE5E4BC847C77694042611FF755E4FFF7CD322558F8304E2750A424700C75A9032B3560406AE5C74D2B8567B40DC448230AFBE6809D8ABFDBD84275FE88D7B8670D2D6F548158DE11D1405108170AE4981487010001",signature="5CCF47D1AB13F1131F9A8A9FF754DBA32F8CA92B6418A694C97355325D79264449E08F2C1352A17442BB852C33F4C61925CF5B3718469636BDB666FB0BEFA2F5CB953DD68F7A0DE70DAB1737816A99C98D7362F5393744A7C9F29D46DEC2571FF368C9227C2B4232C480E6672A8770F0F95A1807D7BB1C3FE448D7DC01690E2B"
2010-11-21 12:38:03,464 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:38:03,464 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:38:03,464 [pool-9-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:38:03,491 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:38:03,551 [pool-9-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:38:03,552 [pool-9-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:38:03,552 [pool-9-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:38:03,552 [pool-9-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:38:03,560 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 12:38:03,616 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:38:03,617 [pool-9-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:38:03,618 [pool-9-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:38:03,681 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:38:03,681 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54972]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54972]
2010-11-21 12:38:03,681 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:38:03,682 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:38:03,682 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:38:03,682 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 12:38:33,681 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 12:38:33,682 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 12:38:33,682 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 12:38:33,683 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 12:38:33,683 [pool-10-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 12:38:34,671 [pool-10-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 12:38:34,672 [pool-10-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 12:38:34,676 [pool-10-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAAgky+H/uTyyxnYFxOA6E6eKP5JXKyOn2Qf/0A5cVHDr4oVZeuV67tuNmrZhAHdC1+VFqrgEx3yYAz7VP9D9AJIiZCOUZFOv4jbS9dgEASB9LV0xUkgc21GLxdb8R0npvoAAA==
2010-11-21 12:38:34,676 [pool-10-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 12:38:34,677 [pool-10-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 12:38:34,679 [pool-10-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 12:38:34,680 [pool-10-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 12:38:34,743 [pool-10-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 12:38:34,744 [pool-10-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 12:38:34,746 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=54974]
2010-11-21 12:38:34,747 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:54974
2010-11-21 12:38:34,807 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="55E2E7FA229463F762DC629E28C5EDFF",key="C47F1B682EF72F727ACB8128D8E667DF65A7D5B5A6887858816917A5EFDE413701A6E733BBD066D35ADF3D58DA255B41367FEAF50FD5FF8E1695D9A5FBF5F77E16D90A720C4B1285DFA6BF214874E02063F646BBD98AB0C55612EF069857625122B5F00F6F70B08D7AE63932A386083B427FA708E16B0A800ED46E01B10744D7010001",signature="2442FA70E910B3A38AFDF8B42689DC599725D1939A6C1178EF8ADA2FF79247884F0D82C86CCAE44B56A18CFFE270E1F9335FFD444B60B744EB085A0A65433FD748ADF004DDBF2AB01D444E3E0EC8354217184AE3E60608FAE4C58E5E48A00BD9E89DEC7BD84F65C51D3724476EA2D895F70619445A0E8811778C0769BD84AD6B"
2010-11-21 12:38:34,885 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 12:38:34,885 [pool-10-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 12:38:34,886 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 12:38:34,935 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 12:38:34,944 [pool-10-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 12:38:34,945 [pool-10-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 12:38:34,945 [pool-10-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 12:38:34,945 [pool-10-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 12:38:35,012 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 12:38:35,012 [pool-10-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:38:35,013 [pool-10-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 12:38:35,074 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:38:35,075 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:38:35,075 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=54974]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=54974]
2010-11-21 12:38:35,075 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 12:38:35,075 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 12:38:35,075 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:20:50,524 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:20:50,528 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:20:50,805 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:20:50,969 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:20:50,971 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:20:50,972 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:20:51,794 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:20:51,794 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:20:53,322 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:20:53,323 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:20:53,386 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAA6VaLADx566Q4i6CwDPVD1BaHvCiy14Z2/kweQ7nVipH8Z6tYreJ2OEonI1xFZH1JO8Em0qR2RShamjLdbIbirpIW2KMxT2eLRZNQwJt0FkMD3ClSz88P+XuE2X7iU7qUAAA==
2010-11-21 13:20:53,387 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:20:53,387 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:20:53,892 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:20:53,963 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:20:54,040 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:20:54,078 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:20:54,102 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55579]
2010-11-21 13:20:54,103 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55579
2010-11-21 13:20:54,309 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="39CE6A03233016B642FCC22159AF4AB3",key="CD583EFA25B178987E903593F6FA8DA85CD22633F62E6352515901CB4206697659A9A8BC741E90E32CE51D1D8906952B1838DEE50E0D11B5483B6068C98195D6688D211C72418295BD899B779523BC28EA0A0CC57A74B3B2149A7B6F13CB150A2BA47A565212244BE8C7B8005576BBD327D5E1BB99E0C32ECA4E0BA9A6B75381010001",signature="3A377C5051DCED1F62CC45041FC4249CFE2D6471E23FD548D143B8F26ADE4F8844CB3CE5E8A1210AAE681AB8E67355FD87D1D44B668D47C8C068D0BB764B6C2C84A158D4AD6607B249C9DEAF022E2A5BA490EC7F647FEEBFB5EA20D4793DDD6B311D885D59AD8CED2027600C08C2ED545054DF0193523264586E410690E98E98"
2010-11-21 13:20:54,686 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:20:54,687 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:20:54,707 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:20:54,708 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:20:54,708 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:20:54,708 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55579]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55579]
2010-11-21 13:22:27,061 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:22:27,064 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:22:27,070 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:22:27,077 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:22:27,079 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:22:27,080 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:22:27,702 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:22:27,703 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:22:28,323 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:22:28,323 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:22:28,326 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAAOobz9hqWpvn4Wjul1QDfHPKcbDHTMNhg/h64EGvpjKTOd5s1mD33RvAw/EhzgAPMyjDkOfy20ti9nnt2NxpvI0XBNutXHdcy4bCg7XBRTcuiTD9/QoxYWg8I1fRB52z8AAA==
2010-11-21 13:22:28,327 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:22:28,327 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:22:28,352 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:22:28,357 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:22:28,433 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:22:28,434 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:22:28,453 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55601]
2010-11-21 13:22:28,453 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55601
2010-11-21 13:22:28,512 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="134F7D611088038C1B3869791B09A4C3",key="C999F452873BD35951032E68D6C3750F5D1FE4E7D2943D41295CA4747E98FC1C09388BF412DFC48A60D52B9E0E9D3CFD8E0902EA68B07BE205B86FF9CC353BDC138534067CB52F2F74758A6384774B41DEF524E72381076A392A1A418D3B7316AE57D0CA5400FA22852E0799B89A3927BAB432621DF6297598262AAD2D24853F010001",signature="3665D72A55F1DB7D0697F42C1E4864B793E06F37168FAABEE7DDBD722950D0F6E980E85191C2E815A60286D426D74BF2CAEB7AAA8D4D2CEE59B067148EC6876E6EDEC222C2CBB25CB5EE867FDC6D7663B40935BDA66CA39D4D4877EF577A946E3F204D2D575AE56A229666D7F029208D04C25AA75D9F8D6CB46EEDB99C3D0A8F"
2010-11-21 13:22:28,726 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:22:28,727 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:22:28,728 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:22:28,728 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:22:28,728 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:22:28,728 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55601]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55601]
2010-11-21 13:23:17,767 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:23:17,770 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:23:17,776 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:23:17,783 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:23:17,786 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:23:17,787 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:23:18,627 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:23:18,628 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:23:19,239 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:23:19,239 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:23:19,242 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAD8HcbLlC8lt+V2sxi1OAMl9I+5fsODYuFxaezzR+SwqKQQswrP70R6aWMQc5vMqu4tOPBkwQXekUpJRfAQGAE3BzYUR8EAEeOoP0/sW3DN2Qa43Dj4NVvr0a/+ezbFK5gAAA==
2010-11-21 13:23:19,242 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:23:19,243 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:23:19,265 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:23:19,270 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:23:19,332 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:23:19,333 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:23:19,350 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55605]
2010-11-21 13:23:19,351 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55605
2010-11-21 13:23:19,411 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="7C50B44F51C99414627992CA7DD14791",key="D9CD4C9B721328ABC7CCE1B56BC7EBA3173BC6EDE746869DFB5D2BC2A090B9515AC0FB7477E5D1A6455DD9CD72C4B51CC79A16A68FA4E66D009B7B113D5CA37AD7E84EF40EEA9F7FD516238CC25A25FE88294E104C1C02A9D1CB5AE0B823210A772BB6B6484C2388324A97CFF03B5E49BE4CDDA6BABB8E459EE6D0E8B9753EAF010001",signature="A402C1E3ACAA0D94B8E4120D402621773936B1DD00A65D252A5F0E4022291C328B430210A70ABDFF6A5266D578BB108F0B81D18B00DC8E90D50BC987A072A95CA6D932C0BED07041FDE7E3D3C0FD634DE571DB2BBB9F37A09798E6049DDE4569BC025D6D4EB89008412DF444077DFD3E12EB3FA95CB49D5DE6799E4097DE2165"
2010-11-21 13:23:29,317 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:23:29,318 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:23:29,320 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:23:29,320 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 13:23:29,379 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 13:23:29,685 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:23:29,685 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=55605]
2010-11-21 13:23:29,685 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55605]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:23:29,686 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 13:23:29,686 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 13:23:29,686 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:23:29,688 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:23:29,688 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:23:29,688 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:24:59,724 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:24:59,731 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:24:59,733 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:24:59,734 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:25:00,363 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:25:00,363 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:25:00,973 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:25:00,974 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:25:00,980 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAC8plx2YCoov3TWJ4q3GXv9z2gtx1Aw3Gq54dzNdJ4JkpvJrbQQTe78YBKOwLoX+o6FoWi3mpVRWjd2Uo2MMalnu560ZUyAQ7xJpJEMB8zF3d3zWhmTJAwOLk8LjTXRHLYAAA==
2010-11-21 13:25:00,980 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:25:00,980 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:25:01,146 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:25:01,287 [NioProcessor-1] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="4054B51416184DC76FCE57423ECD932F",key="A287426FBD12970E016A983D0B4E6A31A6D476AE339DFE559BFE3050F658DE99E2D74515A237BD9ECC898D3628A51048FDD29C477885A9BE943B442CB8E3478997046A908E135DF12B5763283DB21A3ED2518026D4F339953C161EC7173576AA45EDE2DD9E33AB4C99BC71954E8EEBD4923A9232F9E06BA8DA3661BE190B67D7010001",signature="CC1B900EF2D61E5B7D3F9801446653A5C8C991029ADABA2CE9FDC22FF8D23318E6ECFE9ABFBC7459517ED26FA4A4C11D8504FC30FF6AF3CE33A38D735C3E6FCF33F128C8BD1E521F63FFA3E720743185E3DD5BEC9AAC571F607FE5CF67AD62351DDC33AD9F1B9B95A31D8F6A845BA21245E0F2AC1F373C18351EC979B195B104"
2010-11-21 13:28:51,522 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:28:51,525 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:28:51,532 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:28:51,540 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:28:51,541 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:28:51,542 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:28:52,170 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:28:52,171 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:28:52,791 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:28:52,792 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:28:52,795 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAC+q+RxnlS5g6WlA75GtBKAvftGUdGUMSXU4omFuxOCDddk0qw0+GYTfp1F16PB7t4TCCDcieE5LrRfaqXpAV7t8SDhQqNe+Aic3HLjCQCDebkdukrLOF8IWhOSxvc6BxwAAA==
2010-11-21 13:28:52,795 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:28:52,795 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:28:52,816 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:28:52,820 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:28:52,881 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:28:52,883 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:28:52,884 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55627]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55627]
2010-11-21 13:28:52,885 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55627]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55627
2010-11-21 13:28:52,960 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55627]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="59F925CF7F8DD5AB2AE9F2F57D71ADBE",key="AD85E07CFC0D40125AC87FFBC49FC0270535B6457B20C79CF2121C58489AE2A7915399F137558851356014A7362BB923BE59379A1123AD86E67933A34701C3EFC32C870BC761361279433D5E5D279C27846B572651BF004F27679D71907457854945208B4CFB46E11438748FCEC11906B6D44CA975611B6A7FED8ACC7D65B85F010001",signature="A8BDEAD3DC7D2DA3E1D66B30FFF2D6BF205643A34208602C70C6D27814019737C6E702BEF5E80E0179884424FC41129897BD0464ABF85358CFF679847942B30A803282D609CC4FD23286C731E2578BB979274D9844F61ACB97E98A557CD57311503FFB0AF4ED6C7BF6AC0A470ECE22531A9EAA5952674688C520D784C7F40885"
2010-11-21 13:35:11,098 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:35:11,101 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:35:11,108 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:35:11,117 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:35:11,155 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:35:11,156 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:35:11,978 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:35:11,978 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:35:12,916 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:35:12,917 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:35:12,920 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABh282GxCnUF0GNQY9SpI3+oiJBWqND5LVuJdU1BzAWSt/z0tQ72gacxnJP7GD54Qoy6Ew39y7fijLGZI2hDeV0vOD+WMuWlfyb7JG09w+APXyAHdm3bwEEcfi6GzQhA/UAAA==
2010-11-21 13:35:12,920 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:35:12,920 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:35:12,946 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:35:12,951 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:35:13,111 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:35:13,112 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:35:13,130 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55643]
2010-11-21 13:35:13,130 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55643
2010-11-21 13:35:13,189 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="224012C76CD20A3A7FC8CDB62FCEB945",key="D7F20A5B94047A500908B5B01B4140F7F2AD2748193C1DB70288A0CC4FE310274FBC28D43577C9EC6057E59CCA3C6F669BD5934636951BFF90A84EFA814F558819EEAAA099A58A6242BC096D3A18F17F50CB2B2C8C12618474F1A0D260603E5A802164937D255E08ACF17EAAA08DEA11D1F7E0EA20EDF46CC27DDA6374D971F5010001",signature="CC38BD93909C257C8CBC7A0E41C9E50C1DFB6861C5DE2AF67026AA6EBDDCCCDB7092D319245A9ABE22572D7905A3E0155353A34732104BF3AE793C86AF30761BD12CEFE17F285CCD5C5CBADF34CC8CE66CA62CCD472B9BC66A5713759A209864A24C338F6041BDFFEF977427ADB58772D94C6D0F6257468FB51FF5D29B3EB831"
2010-11-21 13:35:13,849 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:35:13,849 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:35:13,851 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:35:13,861 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:35:13,989 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:35:13,989 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 13:35:14,136 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - The group list is empty, group dialog login is skipped.
2010-11-21 13:35:14,137 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GROUPS_REGISTER_DOING, canceledLogin=false
2010-11-21 13:35:14,137 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GROUPS_REGISTER_SUCCESS, canceledLogin=false
2010-11-21 13:35:14,137 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:35:14,137 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:35:14,137 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:35:14,243 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:35:14,346 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 13:35:14,346 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040221570624]
2010-11-21 13:35:14,457 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=613571635, getUri()=sip:613571635@fetion.com.cn;p=594] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:35:44,256 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:35:44,259 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:35:44,266 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:35:44,275 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:35:44,285 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:35:44,288 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:35:45,278 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:35:45,278 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:35:46,083 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:35:46,083 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:35:46,086 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAAq+NOx7luiOdv2y/cst8K+BAmWrVXz08ehlHCQLePgOY8kVAHLmp3KuTnmAvzQLZg3eDOVNYVlFwAShoZD7tXOgJNEjt3MtXCHsx8RyBgWWZ+lDgpujikmQuUp1L/gqIAAAA==
2010-11-21 13:35:46,086 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:35:46,086 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:35:46,104 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:35:46,109 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:35:46,179 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:35:46,180 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:35:46,181 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55647]
2010-11-21 13:35:46,182 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55647
2010-11-21 13:35:46,290 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="17044867481F9BDE121652B42B343AFB",key="9D5589CD51EBFB944E97B4141EE28F937B8F9CBAD78BEB731D72EB63AFD359EBA574D2A70B978E2F55EFAE7ACDFA35B294838F9C1D81AF4CDA9E7ADF081839F6FE79B1B60FFC5B7D4DCFDB3FDFAD95374CF235A575168D62ED450C8C6101B8353FFE716B546BECAFEA6FE3641A6F026BCFED8F76AE6CFFE09E758BEE6297EB61010001",signature="61185929177EE92313FD52F259E4AC317840B5D1832821F62487B491097C1C05592B4253904541A995F98714BEED433509F788E5B1E3A2826CB0DE24F13DCEA41854DB76B6C97E7395243516413B93CD8CEF551C0820035C2D77EC6B180AE0EF40C33C415FAA0312E0D387D78DED08CD71BE31B9B7DFD97E2F0E11A2B88C772B"
2010-11-21 13:35:46,501 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:35:46,501 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:35:46,502 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:35:46,502 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:35:46,502 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:35:46,503 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55647]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55647]
2010-11-21 13:36:43,079 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 13:36:43,079 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=PCCL040221570624]
2010-11-21 13:36:53,219 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 13:36:53,252 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=400, desc=null, clientId=PCCL040236525717]
2010-11-21 13:37:01,981 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - FireNotifyEvent:BuddyPresenceEvent [buddy=Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893], EventType=BUDDY_PRESENCE]
2010-11-21 13:37:01,981 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=PCCL040236525717]
2010-11-21 13:37:05,014 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.FetionClient] [FATAL] - You have logined by other client.
2010-11-21 13:37:05,015 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:37:05,015 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:37:05,017 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:37:05,017 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:37:05,017 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:37:05,018 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55643]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55643]
2010-11-21 13:39:30,734 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55627]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=55627]
2010-11-21 13:39:30,735 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55627]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:06,139 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:40:06,143 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:40:06,148 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:40:06,156 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:40:06,157 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 13:40:06,158 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 13:40:06,779 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 13:40:06,779 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:40:07,403 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:40:07,404 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:40:07,406 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAD9yTG90Xx0mGMri5WzI5l05ELgiW0jVjJ+4B4kPZpU7eMxQzxfEOG2MWlzs/hCFwd6Lq8Cr54/Ya8RnhjTp1VQffPocHYIrkIMI9MgevuzYP+IjWHrAQXXRDHwmwhoBfsAAA==
2010-11-21 13:40:07,407 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:40:07,407 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:40:07,428 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:40:07,432 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:40:07,498 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:40:07,500 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:40:07,501 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55682]
2010-11-21 13:40:07,501 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55682
2010-11-21 13:40:07,577 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="7F042E4A6A1712A56D0F7A2F27638316",key="B6227430030CDDD8177921DAFFA3F339F07647213FFF8B371DBA5581DC98DD71825674FED23C5F5A00BF3A1096B2669FB31DB1E12D8CEF0ACBECC94AE30A9BED00A3B32C3E5839CDEF6E1DA5F583676DEB24FAD423ED3C9DF9E9E79D997C63E24F8B9F9E934F25F12070C96083BE859847E997C838EDC507F0777CEC69E4BEAF010001",signature="6A14ED57780022D05D76BFBD038A179563CE13FD9CFEBCA2722D908C842C683DDDEAACFE5E7035CCC12F5C1E95048B7840B2807832B38196F5E7355684442F0432B55227F18CA61D5511CAB47C49F8B550D2213E27BF630D799429BC4A4B5E0E1CF6AE11601CE0A94E72D9F388D752A4EE8342117CD2446B1F17175FF569C22A"
2010-11-21 13:40:08,093 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:40:08,095 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:40:08,114 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:40:08,390 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:40:08,467 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:40:08,467 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:40:08,468 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:40:08,468 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:40:08,564 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:40:08,573 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:40:08,680 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 13:40:08,681 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:40:08,720 [pool-1-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:40:08,773 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=613571635, getUri()=sip:613571635@fetion.com.cn;p=594] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:40:08,782 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:08,783 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:08,783 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55682]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55682]
2010-11-21 13:40:08,784 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:08,784 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:40:08,784 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:40:38,783 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:40:38,783 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:40:38,784 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:40:38,784 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:40:38,785 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:40:39,341 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:40:39,341 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:40:39,343 [pool-2-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACfs/X6wHrivZmIwJzyMSm3tPiwnBNWLCMY3hCeAiSiZgNBQu7kN8B/0x9tt1M3FfskG8r2LTC9VLp29pls7dNfdt4TYu8gsRpmev0SIKZapPWPIKFVoAh/FmOhOIte/u0AAA==
2010-11-21 13:40:39,343 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:40:39,344 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:40:39,347 [pool-2-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:40:39,348 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:40:39,411 [pool-2-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:40:39,411 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:40:39,414 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55690]
2010-11-21 13:40:39,414 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55690
2010-11-21 13:40:39,475 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="7D17EF5E76A9603C4367F36A50BAD720",key="B5AF28852BF0F14FD68A1C1D95C00E35AC39B93E195E66082687E53696E48512D0D247152BF9DFA207C69827A99C66E88D28C244F379DE48DF1D6542BDB1E1C47B3D7B3142161FEBA4C5989B5B52FB5D80B13FDB660D983129CBD699C90C909F4F66151FC89DCE6A94F86DBB4DCD151F26049E6550AD70837C7256F77C6DAC37010001",signature="2DA3B8C20B6DDE73813B8BA8822E7931EC51E91B33EB343272F33E8C99100A352701288E9B72E2F2B2AA5DC510AF160A0FC1516A9E1482534DD9CEB26E77BA431239F9BCAF003F9A23914FDD5E303002D1F975CEC37DB97965C967612025D625CC7B525A8787C0B76ED4A397AD716AF3400B4B9B0FCEEC9B1ED7888F7E28BC1E"
2010-11-21 13:40:39,556 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:40:39,556 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:40:39,557 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:40:39,563 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:40:39,615 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:40:39,615 [pool-2-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:40:39,615 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:40:39,616 [pool-2-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:40:39,651 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:40:39,682 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 13:40:39,682 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:40:39,683 [pool-2-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:40:39,752 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:39,752 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55690]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55690]
2010-11-21 13:40:39,753 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:39,753 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:40:39,753 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:40:39,755 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:41:09,754 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:41:09,755 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:41:09,755 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:41:09,756 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:41:09,756 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:41:10,259 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:41:10,259 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:41:10,278 [pool-3-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABOpLiXlkLtQ3jIIcoqnxnh/EWNG4Qo+phGf6MOOD7jfx+EyDVjT6xyal+ONAlguMvkgpTfySzgyfwHcq8cHmSt78JIg2rwLxBWGmyf2e+EqNjbY2QXeDmG6YVZp9xK9+0AAA==
2010-11-21 13:41:10,278 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:41:10,278 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:41:10,280 [pool-3-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:41:10,281 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:41:10,340 [pool-3-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:41:10,340 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:41:10,355 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55696]
2010-11-21 13:41:10,356 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55696
2010-11-21 13:41:10,404 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="280FCA334A97A5E93074D9DB377B23EA",key="B1291E7921D70AD7BCE5F466AF3910AA33D6425D34F85029958E73E71FFADB5061682DD1AFB43D123E6759351240E94809814F00171CE6EE82E9805279F41DB0AA1F60761BC8E6DCBC935105E7C49A9530BB7B6A5CF43A545DA23B5E75F7CF5004CAB41F550E053DE211046F3F974D2650A10EB53E09DEBD1234EF24CDD2F3C9010001",signature="C96FF0A0D912F2818C3C977E14B0D1067CABE7AB44D81406259584EF7A5E40D59972BE340219EEA09BDCF095E1E7D5E0493903E0C0DC16A029E8AF0E0DA6CADDC075766833FC3D18A81931A891A7CBC711907CC9441D29968A59162456BD79273E8BD9BD2EDF869D191C74902FABE3E78765E86BA1A046867F259B0D77FCB722"
2010-11-21 13:41:10,504 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:41:10,504 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:41:10,504 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:41:10,512 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:41:10,562 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:41:10,562 [pool-3-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:41:10,562 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:41:10,563 [pool-3-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:41:10,630 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 13:41:10,630 [pool-3-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:41:10,631 [pool-3-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:41:10,632 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:41:10,700 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:41:10,702 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:41:10,702 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:41:10,703 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:41:10,703 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:41:10,742 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55696]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55696]
2010-11-21 13:41:40,745 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:41:40,745 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:41:40,745 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:41:40,746 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:41:40,746 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:41:41,272 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:41:41,272 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:41:41,274 [pool-4-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAB2scEgE6XP6NqzEz81SS9z3+Zu+z10VxKkIEjBWGqXVgeGY0tLH3yuC41xFT+fcxQvlimjw30XkXoJ32pbFsX5zbsgufWC726WFDmz14/1HSFTxQp7/ZKfHC4jdOVYx8cAAA==
2010-11-21 13:41:41,275 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:41:41,275 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:41:41,277 [pool-4-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:41:41,277 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:41:41,337 [pool-4-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:41:41,338 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:41:41,342 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55699]
2010-11-21 13:41:41,343 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55699
2010-11-21 13:41:41,417 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="555CA4665EE3F64A1DAB83531E14503E",key="CED1AE66B649AE1A8D1EE80531D5E26F305AE5F798E5E452DC4628E3ED622701079B082362AE075C4D8BF8D3D920BB83BAF166DB38761A665F5A017887056075FCE5FADB53481D7AE0D1721FA1EA3D018CB97143666FE3888137815E50D56955DF2DF76C77DE56DDDFFCB5BAB82CCE6C7FC105B6A634156EF3F97D25F79BDC1F010001",signature="5B32EA8876AE142B837426CE2B0A1D89F47B12511CA577AB8E52DB8F6EEFA8968C57D740601C2CD447697E3702E721848C2F21A93EFF6D84F60B2368585E313EA8AEEF4590B8A32C3E434220502DBA978784B5163255F8FF55B46499EBE0E142E81D28373B271BE09C8C2ED583AAE089B174B2BC92439AAD832162A9B62435F1"
2010-11-21 13:41:41,517 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:41:41,517 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:41:41,524 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:41:41,517 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:41:41,609 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:41:41,611 [pool-4-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:41:41,611 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:41:41,611 [pool-4-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:41:41,742 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 13:41:41,743 [pool-4-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:41:41,744 [pool-4-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:41:41,804 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:41:41,806 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:41:41,809 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55699]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55699]
2010-11-21 13:41:41,820 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:41:41,821 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:41:41,821 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:41:41,821 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:42:11,825 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:42:11,825 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:42:11,825 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:42:11,826 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:42:11,826 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:42:12,827 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:42:12,827 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:42:12,831 [pool-5-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABjDsWZ7CVEL8ebsLgk+omEJZiOGvHSFNm+lQAy921o01Kg2iX7XamOvCwsG3TQWydQ1JAb4+IBRUOdjKC4LQzOG31a/B+lOzjzsBHrTS+WrRoDOtr5TotOYbnkGUxJq3EAAA==
2010-11-21 13:42:12,831 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:42:12,831 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:42:12,833 [pool-5-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:42:12,834 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:42:12,907 [pool-5-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:42:12,907 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:42:12,911 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55701]
2010-11-21 13:42:12,912 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55701
2010-11-21 13:42:13,031 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="19CE91A4707E068B723FE7F01D7D21FB",key="B19644F3030042547E07E05359A97A5412156CFDBA3D64D280CCD5B6E9C24D02271C0087F84F71164BF0B0B48F9D7930F9C84894A3C1EBCE83D8A2664AD625634AA61023768C7ACD00CB2E7B72436790D9B10DE1EF52EB5AA21BB5A1870EF4923216F798A28C83D989D7AC66F2CFC2FF98456E05BE7B245DC216388279C5BCE5010001",signature="72A14172455A6F8D839B14D741EF0BA6301A8D9F5BCA6AEEC37F0F9879EEB24497C76EE8A11BCEC155B19F1971133EF36F74D1DF8DFDB38F986BAF3779DFB54AB43F60B93F36AD382DCA841FAD309C84A7653658FF194A28C0265766EA5B38DD32684157CF219704E9F3EAA6EDDDF93CBC1F9718C61ED9CA90FAFC13828E9698"
2010-11-21 13:42:13,143 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:42:13,143 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:42:13,143 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:42:13,152 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:42:13,292 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:42:13,292 [pool-5-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:42:13,292 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:42:13,292 [pool-5-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:42:13,441 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:42:13,443 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.dialog.Dialog$1
2010-11-21 13:42:13,443 [pool-5-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Openning Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:42:13,444 [pool-5-thread-1] [net.solosky.maplefetion.client.dialog.Dialog] [DEBUG] - Opened Dialog in Executor pool:[BasicChatDialog - MainBuddy=myself, sip:624436624@fetion.com.cn;p=1893 ]
2010-11-21 13:42:13,505 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:42:13,506 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:42:13,506 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55701]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55701]
2010-11-21 13:42:13,506 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 13:42:13,507 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 13:42:13,507 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 13:42:43,506 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 13:42:43,506 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 13:42:43,506 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 13:42:43,506 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 13:42:43,538 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 13:42:44,264 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 13:42:44,266 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 13:42:44,270 [pool-6-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAB+AFGsguIakJQK9hr6NwvIyPUgws2iIvutHkkFBrKkiki3sugEJpmmdi6s06BISfNebjIK5/2Go4ScyT32Fn0ImlKQ6NDiXA9LZLtlfVkU/3hdvSqHp12u3R1NY2P3QuUAAA==
2010-11-21 13:42:44,271 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 13:42:44,271 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 13:42:44,275 [pool-6-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 13:42:44,275 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 13:42:44,353 [pool-6-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 13:42:44,353 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 13:42:44,354 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=55707]
2010-11-21 13:42:44,354 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:55707
2010-11-21 13:42:44,470 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="11EB30547AA3EFFD27C987EC37B21658",key="BBF230D603B2AB6730FA17A9119F9E914F32CAE04739C86DC7E28011EC6FF99E510E9C0DF8C60AB890BBA09EA13809A84A0B5B9C6CE0812FE1C11EF6F449098D4660393AE0A69816581FDF953A956F3617DAFD9B81B81028BFFC41F29D58FA01C4D29CBF860B113EF176D386574F486B50CA54BA4284C945F315022F29DD6ED7010001",signature="D242B6BC447CA92FD2FFAE19666D9F702CE085751262877667E7EB4A8C73659CD8A25B2F67D1EE63C3ED9BF7B4659A213865910570CAFA2CA45F06003ECC5E99B70A7B8DAE43DDC6D2408F99644F85F5A3F22A7DE27D9DB3E1FE3C9F87FC39AFCE3BF39177A8784C5C24BFEDD9771A157BEB779F5C71D79FD041DD9A6F867F60"
2010-11-21 13:42:44,546 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 13:42:44,546 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.decryptCredential(UserAuthResponseHandler.java:186)
	at net.solosky.maplefetion.client.response.UserAuthResponseHandler.doActionOK(UserAuthResponseHandler.java:162)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:42:44,548 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 13:42:44,555 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 13:42:44,681 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 13:42:44,681 [pool-6-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:LOGIN_SUCCESS, canceledLogin=false
2010-11-21 13:42:44,683 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepAliveTask
2010-11-21 13:42:44,683 [pool-6-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.ServerDialog$ServerKeepConnectionTask
2010-11-21 13:42:44,737 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=fjfdszj, getUri()=sip:501558386@fetion.com.cn;p=16101] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:42:44,748 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=myself, getUri()=sip:624436624@fetion.com.cn;p=1893] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:42:45,965 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.notify.AbstractNotifyHandler] [DEBUG] - PresenceChanged:Buddy [getDisplayName()=613571635, getUri()=sip:613571635@fetion.com.cn;p=594] - Presence [value=0, desc=null, clientId=null]
2010-11-21 13:52:44,819 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog system error
2010-11-21 13:52:44,819 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.decryptCredential(KeepAliveResponseHandler.java:107)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.doActionOK(KeepAliveResponseHandler.java:81)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 13:52:45,066 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:02:44,805 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog system error
2010-11-21 14:02:44,806 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.decryptCredential(KeepAliveResponseHandler.java:107)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.doActionOK(KeepAliveResponseHandler.java:81)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 14:02:44,813 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:12:44,760 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog system error
2010-11-21 14:12:44,760 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.decryptCredential(KeepAliveResponseHandler.java:107)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.doActionOK(KeepAliveResponseHandler.java:81)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 14:12:44,895 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:22:44,755 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog system error
2010-11-21 14:22:44,756 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.decryptCredential(KeepAliveResponseHandler.java:107)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.doActionOK(KeepAliveResponseHandler.java:81)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 14:22:44,761 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:32:44,792 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog system error
2010-11-21 14:32:44,792 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.IllegalArgumentException: if you see 'java.security.InvalidKeyException: Illegal key size', it cause by default JCE does not support 256-aes key for shipping reason.
but you can download those two policy files		(US_export_policy.jar,local_policy.jar : Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files) and replace the same files in '$JDK_HOME/jre/lib/security',
then it still work well. I would implement AES/CBC/NoPadding algorithm to make things better in futrue.
download link:https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jce_policy-6-oth-JPR@CDS-CDS_Developer
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:117)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.decryptCredential(KeepAliveResponseHandler.java:107)
	at net.solosky.maplefetion.client.response.KeepAliveResponseHandler.doActionOK(KeepAliveResponseHandler.java:81)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:168)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
Caused by: java.security.InvalidKeyException: Illegal key size
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at net.solosky.maplefetion.util.DigestHelper.AESDecrypt(DigestHelper.java:114)
	... 16 more
2010-11-21 14:32:44,796 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:36:32,649 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.FetionClient] [FATAL] - You have logined by other client.
2010-11-21 14:36:32,650 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:36:32,650 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:36:32,650 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:36:32,651 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 14:36:32,651 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 14:36:32,651 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=55707]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=55707]
2010-11-21 14:41:38,921 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 14:41:38,926 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 14:41:38,950 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 14:41:38,975 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 14:41:38,976 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 14:41:38,977 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 14:41:39,723 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 14:41:39,723 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 14:41:40,482 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 14:41:40,482 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 14:41:40,486 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACqOrLbGD+uNu2ltR+6mk8v4Xat8Sp5ZmiCjhzTC8jX26ZSDz29/FDTRBo+dqw8eJdqAXDFgxPY0TwsRILSStE+9BtM4jZ7dMN4mQuAPF81d0Lthc22eg4ohEd4BBxz1tUAAA==
2010-11-21 14:41:40,487 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 14:41:40,487 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 14:41:40,600 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 14:41:40,614 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 14:41:40,675 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 14:41:40,678 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 14:41:40,704 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56028]
2010-11-21 14:41:40,704 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56028
2010-11-21 14:41:40,777 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="4D0676B82184F7A93EA362EE4B4C7F66",key="C5000313D662D76C0B263203F2E01A7243F932B7DE7929A9DCEE4206F28013C8AE85C63EBE26175D32C61D971797524AE9AEE2AEA8C353A265C83E383E0BF671B6169576FDA58BD40634D646257AA902BFCC084AC76D51235AC66924F520D1C359B6FE1E42DF1F13D5971495273AA7656F1B008E5FD35C510AB9C2A1FAAE40C9010001",signature="152DAA14A82A70BDF9F3E724DE76CDE961C921E75728749F19F3D4E9439C45373242D7684AFB3E25756BB39889E19FB4DA53550A85E9ABF87340D52C503BC5144692621A642A7F6396BB1D6D552FD2323AB5E9F9764C7C308BB4E6A40438E7B6ABFF6D63B7D1E58F16DB2E413EA211EB6B3E803D8EFC951370E01AC2FDFD86C5"
2010-11-21 14:41:40,997 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:41:40,997 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:41:41,000 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:41:41,000 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 14:41:41,000 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 14:41:41,000 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56028]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=56028]
2010-11-21 14:41:58,088 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 14:41:58,092 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 14:41:58,098 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 14:41:58,106 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 14:41:58,108 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 14:41:58,109 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 14:41:58,750 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 14:41:58,750 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 14:41:59,375 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 14:41:59,376 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 14:41:59,379 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACMMYvdzSX5M2lIP82N+BhEkw/N0K+pB9bUPzcEXX17g6RecUEpyS5N7U2xYY+juReDeWvEju7d4mcNmtgeoFVsP4xYRCnHmKyCdrgwRJpeYeH7BX6YffUkycS0zEb/jBsAAA==
2010-11-21 14:41:59,379 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 14:41:59,379 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 14:41:59,401 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 14:41:59,406 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 14:41:59,466 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 14:41:59,467 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 14:41:59,480 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56031]
2010-11-21 14:41:59,480 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56031
2010-11-21 14:41:59,546 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="6319BA9075B24D192A101EB87A727AB9",key="BA184B651FE138054C50EF5E79AD22A179DDE50EA988BC0E0DF874F31E34D6B39F29690DF88A1241C416F742BFEADEB5F887A53C7A7DE674E740C0FE8141FDF12B17A286453A701F80C088C4DA4D40B7A87B9FF10B0E04AAC0520F06C9260A7BB5AEB42C77DF0A94DD82ED126EFA8EF204BF82E5BF3FD4687514E21338BC2189010001",signature="370C3B86A037FCF69D76269D21C3175C351779FE4A34EA295D7010308C426B4FD933D27934BC75ADCD578B1E642018E7AD4E23818A8EB5D1FFA9700ED416D529F01FA78BDEB0BD0004D0D2DBD763F66993BD70A9BD5511195D452855C282F0389AA25C5623524BD37004970F5D04A33C572857A1B94BDF61CB576808033888DF"
2010-11-21 14:42:11,107 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 14:42:11,107 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 14:42:11,108 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 14:42:11,109 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 14:42:11,184 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 14:42:11,205 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:42:11,246 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56031]
2010-11-21 14:42:11,246 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56031]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:42:11,249 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 14:42:11,324 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 14:42:11,324 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:42:11,326 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:42:11,326 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 14:42:11,326 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 14:46:48,829 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 14:46:48,836 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 14:46:48,854 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 14:46:48,869 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 14:46:48,870 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 14:46:48,873 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 14:46:49,509 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 14:46:49,510 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 14:46:50,142 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 14:46:50,143 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 14:46:50,146 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACIUAhHMT4VVr9lCdlfSPxYIQMoxaq3TMuG8ua49t20hP4oU2rRCWpqKEZbJuz++vEfwEYcsk32M7lACFbi1yecjrEyFTQHCh+BDRmiDtn/VY05TCMjlJU91lXCGUwUMdkAAA==
2010-11-21 14:46:50,146 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 14:46:50,146 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 14:46:50,177 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 14:46:50,183 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 14:46:50,273 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 14:46:50,274 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 14:46:50,276 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56055]
2010-11-21 14:46:50,276 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56055
2010-11-21 14:46:50,347 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="255356B4438EBD8A6C2ED00A30AD37AB",key="C329AAD002241EA59A1917C0E9D545F91B2CDA55493220148B7D0E2F726BC5B4824F064E9F60A0D4BF9986B0A626A69FAECE60EFA715396FE5D4176D62B00AACA3A5B9745D6B4F4F91EDD2B90EA7AB1EEFE69F23E10574F3C35B593A79B8E713FF3FB4B69171851D96FF9D06BBFE299E2307A50632D9CAD3EC68E2324DBA22A3010001",signature="CF4BA4F7F2F9E777DD62C68C620F341C50B15192F08D2C828D2746F62F9F0BC6B4D6BA11D321C2517629107092A7593B131F2194A792A019E4AA69C8C4BFC2A6F3CE88A4906CE40502F980168CB2F14B381C80CA52D01E8A3199628F846F1DEA15A7F8F40376091643FA449985856EEE1CA7A5849BE429816D69A7D3C698E167"
2010-11-21 14:46:59,690 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 14:46:59,692 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 14:46:59,693 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 14:46:59,707 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 14:46:59,707 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 14:46:59,712 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 14:46:59,808 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56055]
2010-11-21 14:46:59,808 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56055]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:46:59,809 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 14:46:59,809 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 14:46:59,810 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:46:59,814 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:46:59,814 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 14:46:59,814 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 14:49:16,123 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 14:49:16,130 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 14:49:16,142 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 14:49:16,157 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 14:49:16,167 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 14:49:16,169 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 14:49:17,057 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 14:49:17,058 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 14:49:17,715 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 14:49:17,715 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 14:49:17,720 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABzYG3sF3v2cC2q6fIQIPvC75HXBi2sAYqQ6lh7HwljW8R5vDgJLce1O+/Ogy2ne5CPXuNwTA/Nhz9bdTVIsXkGI69Fnkc1aduvCEo+17f/NRLE4GsqDyDdwMkFenX8gXEAAA==
2010-11-21 14:49:17,720 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 14:49:17,720 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 14:49:17,749 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 14:49:17,758 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 14:49:17,825 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 14:49:17,827 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 14:49:17,846 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56062]
2010-11-21 14:49:17,847 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56062
2010-11-21 14:49:17,906 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="70F2144772962E8D68D58F386E223574",key="9F56556B06BDF0F2759AD0DF406008E39F9DA678461A4BFCCBE14BBA5CCE3F27376F949E6293C36CBEF823D44C444FEB26F9697F917AC06A52B8B5D0D7AFE26C38DC1C7DB02A9ABB1FE2674CE4E19F8970DA59E5D1738EF8AEAE2CD86C14648D5627FCBF706E49627952AA26B42C6DA40ABEAA6826F1FB8DA32A1B2BED2720DB010001",signature="93F2E66D030DAB2AA7E798F1F85571C176B5D27BD342ABFA916923D70DB9659B9EAB4C31C7A8376284628F4661BDC5AD8BB523591F2E55A926DE53F5B557B3C16BA0C979D7A098AE01CE4D9EB2A15D00DB00CC0D1FEDAEBAB8810A0D1D057C9BDEE9E74B66706A603179B60614204FA61D2A4D93917DB851D0102078A66EDB18"
2010-11-21 14:49:18,120 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:49:18,120 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:49:18,121 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 14:49:18,122 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 14:49:18,122 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 14:49:18,122 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56062]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=56062]
2010-11-21 14:59:44,390 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 14:59:44,400 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 14:59:44,409 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 14:59:44,450 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 14:59:44,457 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 14:59:49,659 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 14:59:53,650 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:00:00,961 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:00:43,175 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:00:43,176 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:00:43,180 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACMl5K8gkt2ywufOAmLa0bdqOKgVceZdvJKmYstB+Aqi+BbbrEJSK/q6yDGczhob+FB4lBKZRQpIa8BbUpQRhAPiAg+E8RYdLWu9U/vPLM1eG7Ufim6DKJy4puISk5bF/YAAA==
2010-11-21 15:01:00,318 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:01:00,318 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:01:00,347 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:01:00,352 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:01:00,415 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:01:00,416 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:01:00,418 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56110]
2010-11-21 15:01:00,418 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56110
2010-11-21 15:01:00,549 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="6E6851E07C32BFC0311EB30169F54666",key="BB52290881F384BBC89217AB96F61A8661903E882B3C14C7A2CFA73774BCCF70BFC695F893802199AB0E49397FEA9E7F95E9BF51E6C473511C27065CAC1F5B12FCB9C070FC2F39A23E07EBBB9EC6BB44DC1CA754CA4D0B801094538791084F2EB38C1CCDC2E41ED2CC4357DD14A33EA33584E46D237A0D34F22452471313A4E7010001",signature="7823E8751DDDB84992947D7EADE04B395644637B90AEF51808F24E31D6064F0C83C241B530B5C9321A3175E0D82CFDF7A65BB5FC94935A860BF076ED1AD5E33D8E9A49B3ACE811CE7EEAB1319CBFA5FBB2763FDA00ABD4F853BA56C7B83DD30835BE1726F5AFD44CF8C13A914561DCE7643422476B833B7EFB21663FEFB1608F"
2010-11-21 15:01:22,532 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 15:01:22,534 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 15:01:22,535 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 15:01:22,561 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 15:01:22,561 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 15:01:22,564 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 15:01:22,623 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56110]
2010-11-21 15:01:22,623 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56110]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:01:22,625 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 15:01:22,626 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 15:01:22,626 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:01:22,628 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:01:22,628 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:01:22,628 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:06:46,277 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:06:46,284 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:06:46,292 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:06:46,301 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:06:46,303 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:06:46,304 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:06:47,130 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:06:47,131 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:06:50,770 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:06:50,771 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:06:50,774 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAADgSXmNhXWqLSEMX+3wUpv+RINox5bjAnRIQSD/hhjl/qDMXE3hQBMlNQ6WyDvmIJDBpHfzY0f6o8GEeKuGKz9YXS6I9knLjnffGqk4+8zCX7Xrn1nH1ul8dXH6dId0ndgAAA==
2010-11-21 15:06:50,774 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:06:50,774 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:06:50,799 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:06:50,804 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:06:50,863 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:06:50,865 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:06:50,866 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56129]
2010-11-21 15:06:50,867 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56129
2010-11-21 15:06:50,948 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="20DE5D2121F49A8B68EF1E8B5E4F12D9",key="A6106303AB4E28ACC5AD9BB527308A0BBD46B4ECE2641A89617FEBCF119E1569F026C746B5F8BD2C40D9B096FFDC3E3E7735658D2A5B66B79A645737288DAFE479091FDA777521588ECA8C41ABB7591FD5F5983FAEEB2740B9A04B255ECB7FD9249776F7815F27CB4A5B4A39F84DA3221ADA31A5CCED05B3AB22449B3E660E9B010001",signature="5F71971470CC41EAEB99BDFE419FC1D622B3236900D838853A4C32EE92CB4C8AABA56FADD56CF80E902000155A4DB70B449F2E2EBCE03FDECBDB99298B9043CEA62A597652A5687F6E97B443F4F2497A694EDB5ACE2346F04668A1929D92C85D50059BD029F438C88E9C4E6E64506AA5A159D6FDC72367F8E60BDC861B529D26"
2010-11-21 15:06:51,160 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:06:51,161 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:06:51,162 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:06:51,162 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:06:51,162 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:06:51,162 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56129]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=56129]
2010-11-21 15:07:21,700 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:07:21,708 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:07:21,714 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:07:21,721 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:07:21,722 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:07:21,723 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:07:22,347 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:07:22,348 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:07:22,996 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:07:22,997 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:07:22,999 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAADM2N6xAyB5gQKwBmbDQLtCHsOy39hmt5h0ndAOBK89bcFRgQcNpDtwVUyI5kXODilFD5IzXGzpcZM0BLSCTG+EJdyfv4MwD4rBTWK5VMUxJH/cxFMEKXUG47zwdTCXUhIAAA==
2010-11-21 15:07:23,000 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:07:23,000 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:07:23,018 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:07:23,023 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:07:23,088 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:07:23,089 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:07:23,091 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56134]
2010-11-21 15:07:23,091 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56134
2010-11-21 15:07:23,165 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="7C8C3B95641EBD64673F9C0060F4B7E1",key="AEA320D5B94F40C8D461D7ACFC02AC6194A72642C923E22DB52D350A6C2C672AFE83FEE4AD73A6F1D23EA0807E1C1F5F47E9BE9DDC63F077A6ADF85DC05CCB5478A1AF31220496DB326B1AB6DB6D04E2EF568B690C2FC0561894509178C4C70DE7E8651B309CF672C608372D70ED4D7306E55A9A7D504B266987FC43C1C54921010001",signature="25A116BEBFCAC3A7AF50005AD792069226240FE73992249EC580A8AE7CD437352A05B5E1A1B1ECD4128937B34D02929AD58D114B1C42E6431B184C26F7CF01448C98115C0E12DBC45A9FBF4A2D5D6828A8E923A31FA6CB8FCEB0344397E8065F3EFA9B52CC5EE8296374CB6C64A746F067FAC3FA4092AD88B3CA9F90BEF4428D"
2010-11-21 15:07:23,373 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:07:23,374 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:07:23,375 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:07:23,375 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:07:23,375 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:07:23,375 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56134]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=56134]
2010-11-21 15:08:32,134 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:08:32,139 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:08:32,145 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:08:32,152 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:08:32,154 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:08:32,155 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:08:35,790 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:08:35,790 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:08:36,928 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:08:36,928 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:08:36,932 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAApu3vd46ZJs+UellE7BXTl6XGJrkt1tCFHMHvGS/cUCHtYrnALMkSOT6orK70o0vXzR4ClTEAqpsRtFNFK0RlnawWkXdjjACx6u83WWyvKF1YqgVYvm8KJO7bOBrzLGowAAA==
2010-11-21 15:08:36,932 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:08:36,932 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:08:36,959 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:08:36,965 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:08:37,026 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:08:37,028 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:08:37,029 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56142]
2010-11-21 15:08:37,030 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56142
2010-11-21 15:08:37,104 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="5723440C18D006DA37D923CA10640B6B",key="C2F837EEF58AC801D6D2ED72EC5CDE287BC83C13E6422A83B506F34E2D806F28A592A04829D99C36F5EE1A6AB2753661667B659AF79239603C39E4D323D46F3EB17F3DAA4ACE5B968CD6F17F35A2CAE880E9503D7B178F8B14B1B95A572A0F82103CA09584800C304732397E13260BE7291C1873009E65EB4898F7FC11525549010001",signature="6F86F0EDF7357927B1F51EFFC19ED8128F26F8CF5D1BD43236D67BFBABD3CCF2DC19B8474501EEE675C3FB24808B568FC0C9EF786B0E72C01A25F30C645A67A5E469D399648D15090A18CC8C7213EF2326D967DE614A427C86A9D8667432C51D4E35DC71588FF312FB9EE45EF136AD52D9AC097FA51404088200CB3B810B6B78"
2010-11-21 15:08:50,995 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 15:08:50,997 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 15:08:51,002 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 15:08:51,005 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 15:08:51,005 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 15:08:51,079 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 15:08:51,080 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56142]
2010-11-21 15:08:51,080 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56142]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:08:51,082 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 15:08:51,090 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 15:08:51,091 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:08:51,092 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:08:51,092 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:08:51,092 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:10:28,687 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:10:28,695 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:10:28,702 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:10:28,710 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:10:28,712 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:10:28,713 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:10:29,452 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:10:29,453 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:10:30,068 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:10:30,069 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:10:30,072 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABydw8OY0222yviZVYNu6TYPBSjGFn8v77ph11YNCyp3spthDynoVMjbCat+I8srE7QCz/egwgRAckTES/alj3TjnV44eHV5qXsdEkiIcv9OyQ9SuaqGGlNtKUZQH/6AWUAAA==
2010-11-21 15:10:30,072 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:10:30,072 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:10:30,092 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:10:30,097 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:10:30,157 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:10:30,159 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:10:30,163 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56150]
2010-11-21 15:10:30,164 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56150
2010-11-21 15:10:30,241 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="33EBFACD34EB2D5E177DCA9F67B88A64",key="BA0A1CBD5251F029455191A4F666B4B9EC9FD9290891C6A567018F809FFA7A7B88D3B14301800329106E34F3AD9A99B433B27131F92741423FCBCC92F19C44A044850C06C3710628C5832EDC9589D3BA97D55E21A8392B9ECBA8C37C773FDA641DCC6B61BB9D2A73A9BF848FEC756BAF43E53635CD3691CABA9731AFCA199531010001",signature="3D6EEAEA1EEE6351D1F030A880147FE6480756A65FF2894C9B6FF48E1838A1EA8BEA8295322799BB3AD85CBBCF0CBE77F409E55FDB1175120D00219E3C823EF911E67B2C8772817A8288CCAE36229625C46C1D04166362215FAD09B6E99E3DA4FFDD94E4F3EB23AD25DEC4F3A99D1A095311481B5903BFD19BFDB27F6F30C91E"
2010-11-21 15:10:30,446 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:10:30,446 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:10:30,447 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:10:30,447 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:10:30,448 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:10:30,448 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56150]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by user..Socket[addr=/115.181.16.74,port=8080,localport=56150]
2010-11-21 15:12:35,408 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:12:35,416 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:12:35,422 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:12:35,442 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:12:37,828 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:12:37,830 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:12:38,598 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:12:38,598 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:12:39,254 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:12:39,254 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:12:39,257 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAACM5/HY5ijUOL7c16Z8Zjbw1/OuuTh27d43UcN6PKqrDWrYUCPayX9MfvTnEP0FEd5kSPGX6adwkREA5fOG/ylyATXPQdVZAuwU6Qg0frncgoWButa3O/fl9C+sbMNPdAkAAA==
2010-11-21 15:12:39,258 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:12:50,096 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:12:52,822 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:12:52,832 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:12:52,893 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:12:52,895 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:12:52,904 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56158]
2010-11-21 15:12:52,905 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56158
2010-11-21 15:12:57,313 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="5EBD046D340639CC6764AD067FC4F932",key="B5439A60984E1A33E214E75E28BD8AC057839EC56DBE8EAC70D4D2EC3242FADBF8AB8695A9C8A0135E377853A6EF4E4ADE1CA1D390E10D369F8EBA05C87D3653481626897F0AF914D68504184F167A59663E25E307353FB749AF6BE005B0209440D639C0208507F49FA948F20CF686A58BC199735ABCC6D1BB75710342BB7141010001",signature="AFFCA118F40FBD8A1DDA958B0E1D2456F75EB8613F78C45512E64DC6F8F1895EE208C58E90DB997F8705D63BC8B010A6B19C7B8CE8FBFECCB737EA9393F730357B4F13075309B217C2F3E426375BD9C1C3FA53DC82723415CBDD37459D99D9EEFBBECBCB697E1F89271BF21EE2DF2316385138CD9D82D57373668F102D9DA0EC"
2010-11-21 15:13:21,856 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 15:13:21,859 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 15:13:21,938 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 15:14:31,039 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 15:14:31,040 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 15:14:35,880 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 15:14:35,943 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56158]
2010-11-21 15:14:35,943 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56158]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:14:37,564 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 15:14:37,568 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 15:14:37,569 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:14:37,571 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:14:37,572 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:14:37,573 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:15:48,983 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:15:48,990 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:15:48,996 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:15:49,017 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:15:51,326 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:15:51,330 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:15:52,009 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:15:53,021 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:15:53,910 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:15:53,910 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:15:53,920 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAAC1UfaB7/QUI/yRatx66/3NE05e3SJQsFVnnmMr/uUKTQttb9VQ/mkGxE+8DaVDHirP5Gs+Z32ZRfhl7ihv+K906yuEPwbbi2eaL+RIs7kEavUz/wXmO0jM17i8JX8UbykAAA==
2010-11-21 15:15:53,921 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:16:01,160 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:16:01,200 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:16:01,213 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:16:01,273 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:16:01,275 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:16:01,277 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56171]
2010-11-21 15:16:01,278 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56171
2010-11-21 15:16:01,361 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="268E31CB55079D61539708C14EB67A1F",key="B7DA422C8A1B7A261479F74A9F8F6A24E9E105E16348CB49F995069C60FD5E1122F1C1F59B9D69DDA6BD97531D89C8779AEE8441096B1400498690B40A19AB2A6FE469DFDFC2DE1E94BFD1E193BCB5280FCB5B630687878924E19EF0079F346FCE4478B53A89EB29315C3DF005898B49F64219EB6C6695A9780F009919613C63010001",signature="D526B11E0EACB516199AC15E5921C40CFC20B2569B83ED07E963A05FC69F44E9D6BE356902120656BE91791B4CCB7F287B75BFECD34B2BEACF6628A3F7E8609FB4DC57CA7F6A27A210D294D91F2C0BF0CA4C56C809639E3A8506BDC36D502837401F66605E925057401D66C000BD7C2F47B823E5FD62EB9787A48F0B42C4DE2D"
2010-11-21 15:16:11,192 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 15:16:11,194 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 15:16:11,198 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 15:16:11,204 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 15:16:11,204 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 15:16:11,237 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 15:16:11,283 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56171]
2010-11-21 15:16:11,283 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56171]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:16:11,285 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 15:16:11,286 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 15:16:11,286 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:16:11,288 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:16:11,288 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:16:11,288 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 15:17:19,222 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
2010-11-21 15:17:19,229 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor started...
2010-11-21 15:17:19,234 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.client.dialog.DialogFactory$IdleDialogCheckTask
2010-11-21 15:17:19,243 [main] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - Execute task submitted:net.solosky.maplefetion.client.LoginWork
2010-11-21 15:17:19,246 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Loading locale setting...
2010-11-21 15:17:19,247 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SEETING_LOAD_DOING, canceledLogin=false
2010-11-21 15:17:19,880 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SETTING_LOAD_SUCCESS, canceledLogin=false
2010-11-21 15:17:19,881 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_DOING, canceledLogin=false
2010-11-21 15:17:20,511 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:status=200
2010-11-21 15:17:20,511 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignIn: sign in success.
2010-11-21 15:17:20,515 [pool-1-thread-1] [net.solosky.maplefetion.client.SSISignV4] [DEBUG] - SSISignV4:ssic=DBIOAABseru3DYGKsN0X0z08kxdtHiake5C+EIykf/mD1zA68TgHhyjvVE1QGEuSHzQWi9pFL1/Inv89++2rQAWkqQJuouwiSWROEfJJ2SrxZ+1Vr3ZQ0Ikd/9jayKnsySi+fG8AAA==
2010-11-21 15:17:20,515 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SSI_SIGN_IN_SUCCESS, canceledLogin=false
2010-11-21 15:17:20,515 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_REGISTER_DOING, canceledLogin=false
2010-11-21 15:17:20,541 [pool-1-thread-1] [net.solosky.maplefetion.net.AutoTransferFactory] [DEBUG] - Try to create Tcp default transfer...
2010-11-21 15:17:20,546 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connecting to 115.181.16.74:8080....
2010-11-21 15:17:20,607 [pool-1-thread-1] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connected to 115.181.16.74:8080.
2010-11-21 15:17:20,609 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Scheduled timer task: net.solosky.maplefetion.net.TransferService$SipMessageTimeOutCheckTask
2010-11-21 15:17:20,610 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Socket ready for read.. Socket[addr=/115.181.16.74,port=8080,localport=56175]
2010-11-21 15:17:20,612 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Local port:/192.168.30.120:56175
2010-11-21 15:17:20,688 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.client.ResponseHandler] [DEBUG] - SipcRegister:W: Digest algorithm="SHA1-sess-v4",nonce="6FC4D5E7667626497626922938070C2F",key="B922E3522CE75706980F31BB54E2FC07B89716A7D944774E1C7180D90DD1C3C07D2444418BA091761C678AC1B7EE08D6ED68E1C66F1AE9717F027511996B3E0608367B11F04DD848B866464EA69919759A615877620547AD1434535A7C69DDF96B43AB16DC1A63418D844F25004749C99875F970B7260FFC06DB2BC95B1F6BB1010001",signature="A72D5946C910ABA44463775D43DB6E111DDB3671C98C6AD9B4688B5D8D6BD805D19B09E8AE30757B660E1779F06EB6876752CAC39B7E2E5756C21CF672B0FC000A43DC92595BF9F6D1029ED69FBFCAE3A11E93A484492A33A09D6896A3E3700C5F1E67C16E28D6F657A2BDC0CBF390908AA785760E49D621925F99EFB66A7D56"
2010-11-21 15:17:36,906 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.client.dialog.ServerDialog] [FATAL] - ServerDialog login error, close the client...
2010-11-21 15:17:36,908 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.FetionClient] [FATAL] - System error, just log it and ignore it. Not exit the client for stablity reason.
net.solosky.maplefetion.client.SystemException: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:111)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.dispatch(AbstractMessageDispatcher.java:157)
	at net.solosky.maplefetion.client.dispatcher.AbstractMessageDispatcher.doProcessIncoming(AbstractMessageDispatcher.java:110)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:158)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.util.SipcParser.flushInMessage(SipcParser.java:156)
	at net.solosky.maplefetion.util.SipcParser.processIncoming(SipcParser.java:293)
	at net.solosky.maplefetion.chain.AbstractProcessor.processIncoming(AbstractProcessor.java:160)
	at net.solosky.maplefetion.net.AbstractTransfer.bytesRecived(AbstractTransfer.java:80)
	at net.solosky.maplefetion.net.tcp.TcpTransfer.access$3(TcpTransfer.java:1)
	at net.solosky.maplefetion.net.tcp.TcpTransfer$1.run(TcpTransfer.java:129)
	at java.lang.Thread.run(Thread.java:619)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.lang.String.substring(String.java:1938)
	at java.lang.String.substring(String.java:1905)
	at net.solosky.maplefetion.demo.MapleFetion.imageVerify(MapleFetion.java:1376)
	at net.solosky.maplefetion.NotifyEventAdapter.fireEvent(NotifyEventAdapter.java:113)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doBadExtension(AbstractResponseHandler.java:247)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doExtensionRequired(AbstractResponseHandler.java:263)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.doHandle(AbstractResponseHandler.java:172)
	at net.solosky.maplefetion.client.response.AbstractResponseHandler.handle(AbstractResponseHandler.java:102)
	... 12 more
2010-11-21 15:17:36,912 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_DOING, canceledLogin=false
2010-11-21 15:17:36,919 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_CONTACTS_INFO_SUCCESS, canceledLogin=false
2010-11-21 15:17:36,919 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:GET_GROUPS_INFO_DOING, canceledLogin=false
2010-11-21 15:17:36,923 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.util.CrushBuilder] [DEBUG] - Crush report saved to F:\Java\MapleFetion25\.\CrushReport_2010-11-21.txt
2010-11-21 15:17:36,981 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.net.tcp.TcpTransfer] [DEBUG] - Connection closed by server..Socket[addr=/115.181.16.74,port=8080,localport=56175]
2010-11-21 15:17:36,981 [TCPTransfer-Socket[addr=/115.181.16.74,port=8080,localport=56175]] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:17:36,982 [pool-1-thread-1] [net.solosky.maplefetion.client.LoginWork] [DEBUG] - Login state:SIPC_CONNECT_FAIL, canceledLogin=false
net.solosky.maplefetion.net.TransferException
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:109)
	at net.solosky.maplefetion.event.action.ActionEventFuture.waitActionEventWithException(ActionEventFuture.java:76)
	at net.solosky.maplefetion.client.LoginWork.getGroupsInfo(LoginWork.java:327)
	at net.solosky.maplefetion.client.LoginWork.login(LoginWork.java:143)
	at net.solosky.maplefetion.client.LoginWork.run(LoginWork.java:165)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
	at java.lang.Thread.run(Thread.java:619)
2010-11-21 15:17:36,982 [pool-1-thread-1] [net.solosky.maplefetion.FetionClient] [FATAL] - Login error. state=SIPC_CONNECT_FAIL
2010-11-21 15:17:36,982 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:17:36,983 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - Clear canceledTask..
2010-11-21 15:17:36,984 [pool-1-thread-1] [net.solosky.maplefetion.util.SingleExecutor] [DEBUG] - SingleExecutor closed...
2010-11-21 15:17:36,984 [pool-1-thread-1] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer stopped...
2010-11-21 16:12:09,184 [main] [net.solosky.maplefetion.util.ThreadTimer] [DEBUG] - ThreadTimer started...
